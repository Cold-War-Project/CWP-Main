# United Kingdom Post War Journals
	# Rationing
	# Military Demobilization / Return to Peacetime Economy
	# Balance-of-Payments / Dealing with the United States
	# Maintain World Power Image or Accept Future as Great Power

united_kingdom_post_war_rationing = {
	# root = the owner of the Journal Entry (country scope)
	# scope:journal_entry = this Journal Entry (journalentry scope)
	# scope:target = target value, with which this Journal Entry was added using `add_journal_entry` effect

	# optional image that shows in the journal entry widget near the description, default = NDefines::GUI::JOURNAL_ENTRY_ICON_DEFAULT (set in /defines/00_interfaces.txt)
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	# optional trigger which determines if a journal entry can be shown, default = no
	# is ignored when JE is added through `add_journal_entry` effect
	is_shown_when_inactive = { }

	# one or more scripted buttons. See common/scripted_buttons/_scripted_buttons.info for more info
	#scripted_button = scripted_button_key

	# optional trigger - when both this and is_shown_when_inactive is true, the JE is Activated, default = yes
	# is ignored when JE is added through `add_journal_entry` effect
	possible = { }
	
	# effect which happens when a journal entry is activated by having its `is_shown_when_inactive` and `possible` triggers become true or when JE is added through `add_journal_entry` effect
	immediate = {
		set_variable = uk_started_rationing
		set_variable = uk_staple_goods_visible
		set_variable = uk_industrial_goods_visible
		set_variable = uk_luxury_goods_visible
		set_variable = uk_all_goods_visible
		set_variable = { name = gbr_biggest_goods_risk_progress value = 0 }
		gbr_set_uk_post_war_rationing_core_variables = yes
		trigger_event = { # determine whether the UK is player controlled or not
			id = united_kingdom_post_war_events.900
			days = 1
		}
		trigger_event = { # Determine which goods start off as rationed
			id = united_kingdom_post_war_events.901
			days = 1
		}
	}
	
	# completion trigger, use is_goal_complete = yes in here if you're testing a tracked goal metric; if left blank, cannot be completed
	complete = {
		custom_tooltip = {
			text = je_uk_post_war_rationing_over_01_tt
			has_variable = uk_post_war_rationing_over
		}
	}
	
	# effect which is executed when 'complete' trigger becomes true
	on_complete = {
		custom_tooltip = {
			text = je_uk_post_war_rationing_over_02_tt
			gbr_clear_uk_post_war_rationing_variables = yes
		}
	}
	
	# Scripted Buttons to track goods
	scripted_button = uk_visible_staple_goods_button
	scripted_button = uk_hidden_staple_goods_button
	scripted_button = uk_visible_industrial_goods_button
	scripted_button = uk_hidden_industrial_goods_button
	scripted_button = uk_visible_luxury_goods_button
	scripted_button = uk_hidden_luxury_goods_button
	scripted_button = uk_visible_all_goods_button
	scripted_button = uk_hidden_all_goods_button
	scripted_button = uk_post_war_rationing_aluminum_button
	scripted_button = uk_post_war_rationing_bauxite_button
	scripted_button = uk_post_war_rationing_fertilizer_button
	scripted_button = uk_post_war_rationing_clothes_button
	scripted_button = uk_post_war_rationing_coal_button
	scripted_button = uk_post_war_rationing_coffee_button
	scripted_button = uk_post_war_rationing_copper_button
	scripted_button = uk_post_war_rationing_engines_button
	scripted_button = uk_post_war_rationing_explosives_button
	scripted_button = uk_post_war_rationing_fabric_button
	scripted_button = uk_post_war_rationing_fish_button
	scripted_button = uk_post_war_rationing_fruit_button
	scripted_button = uk_post_war_rationing_glass_button
	scripted_button = uk_post_war_rationing_grain_button
	scripted_button = uk_post_war_rationing_groceries_button	
	scripted_button = uk_post_war_rationing_high_quality_fabric_button
	scripted_button = uk_post_war_rationing_iron_button
	scripted_button = uk_post_war_rationing_lead_button
	scripted_button = uk_post_war_rationing_liquor_button
	scripted_button = uk_post_war_rationing_meat_button
	scripted_button = uk_post_war_rationing_oil_button
	scripted_button = uk_post_war_rationing_opium_button
	scripted_button = uk_post_war_rationing_paper_button
	scripted_button = uk_post_war_rationing_pharmaceuticals_button
	scripted_button = uk_post_war_rationing_phosphorus_button
	scripted_button = uk_post_war_rationing_plastics_button
	scripted_button = uk_post_war_rationing_refined_fuel_button
	scripted_button = uk_post_war_rationing_rubber_button
	scripted_button = uk_post_war_rationing_steel_button
	scripted_button = uk_post_war_rationing_sugar_button
	scripted_button = uk_post_war_rationing_tea_button
	scripted_button = uk_post_war_rationing_tobacco_button
	scripted_button = uk_post_war_rationing_tools_button
	scripted_button = uk_post_war_rationing_wine_button
	scripted_button = uk_post_war_rationing_wood_button
	
	status_desc = {
		first_valid = {
			if = {
				limit = { has_variable = uk_rationing_aluminum }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_aluminum
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_aluminum_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_bauxite }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_bauxite
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_bauxite_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_fertilizer }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_fertilizer
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_fertilizer_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_clothes }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_clothes
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_clothes_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_coal }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_coal
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_coal_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_coffee }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_coffee
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_coffee_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_copper }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_copper
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_copper_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_engines }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_engines
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_engines_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_explosives }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_explosives
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_explosives_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_fabric }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_fabric
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_fabric_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_fish }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_fish
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_fish_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_fruit }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_fruit
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_fruit_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_glass }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_glass
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_glass_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_grain }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_grain
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_grain_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_groceries }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_groceries
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_groceries_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_high_quality_fabric }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_high_quality_fabric
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_high_quality_fabric_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_iron }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_iron
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_iron_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_lead }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_lead
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_lead_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_liquor }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_liquor
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_liquor_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_meat }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_meat
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_meat_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_oil }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_oil
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_oil_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_opium }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_opium
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_opium_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_paper }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_paper
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_paper_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_pharmaceuticals }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_pharmaceuticals
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_pharmaceuticals_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_phosphorus }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_phosphorus
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_phosphorus_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_plastics }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_plastics
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_plastics_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_refined_fuel }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_refined_fuel
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_refined_fuel_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_rubber }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_rubber
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_rubber_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_steel }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_steel
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_steel_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_sugar }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_sugar
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_sugar_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_tea }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_tea
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_tea_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_tobacco }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_tobacco
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_tobacco_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_tools }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_tools
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_tools_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_wine }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_wine
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_wine_progress }
				}
			}
			if = {
				limit = { has_variable = uk_rationing_wood }
				triggered_desc = {
					desc = united_kingdom_post_war_rationing_biggest_risk_wood
					trigger = { root.var:gbr_biggest_goods_risk_progress = root.var:uk_post_war_rationing_wood_progress }
				}
			}
		}
	}
	
	modifiers_while_active = {
		
	}
	
	# failure trigger, should spawn event explaining what happens when triggered, framed as a failure; if left blank, cannot fail
	fail = {
	}
	
	# effect which is executed when 'fail' trigger becomes true
	on_fail = {
	}
	
	
	# dynamically updated text, which describes the current status of the Journal Entry
	# To use in loc or UI: [JournalEntry.GetStatusDesc]
	# If this is not specified, GetStatusDesc will instead return loc from key <journal_entry_key>_status
	status_desc = {
	}
	
	# the number of days before this journal entry forcibly transitions, can be used to transition silently or into another event, framed either as success, failure, or neutral; if left blank or set to zero, will not time out
	timeout = 0
	
	# effect which is executed when journal entry is timed out
	on_timeout = {
	}
	
	# on_action which is triggered every first day of the week
	on_weekly_pulse = {
		effect = {
			if = {
				limit = { has_variable = uk_rationing_aluminum }
				gbr_weekly_pulse_uk_rationing_aluminum_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_bauxite }
				gbr_weekly_pulse_uk_rationing_bauxite_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_fertilizer }
				gbr_weekly_pulse_uk_rationing_fertilizer_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_clothes }
				gbr_weekly_pulse_uk_rationing_clothes_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_coal }
				gbr_weekly_pulse_uk_rationing_coal_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_coffee }
				gbr_weekly_pulse_uk_rationing_coffee_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_copper }
				gbr_weekly_pulse_uk_rationing_copper_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_engines }
				gbr_weekly_pulse_uk_rationing_engines_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_explosives }
				gbr_weekly_pulse_uk_rationing_explosives_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_fabric }
				gbr_weekly_pulse_uk_rationing_fabric_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_fish }
				gbr_weekly_pulse_uk_rationing_fish_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_fruit }
				gbr_weekly_pulse_uk_rationing_fruit_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_glass }
				gbr_weekly_pulse_uk_rationing_glass_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_grain }
				gbr_weekly_pulse_uk_rationing_grain_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_groceries }
				gbr_weekly_pulse_uk_rationing_groceries_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_high_quality_fabric }
				gbr_weekly_pulse_uk_rationing_high_quality_fabric_progress = yes
			}
			if = { 
				limit = { has_variable = uk_rationing_iron }
				gbr_weekly_pulse_uk_rationing_iron_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_lead }
				gbr_weekly_pulse_uk_rationing_lead_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_liquor }
				gbr_weekly_pulse_uk_rationing_liquor_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_meat }
				gbr_weekly_pulse_uk_rationing_meat_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_oil }
				gbr_weekly_pulse_uk_rationing_oil_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_opium }
				gbr_weekly_pulse_uk_rationing_opium_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_paper }
				gbr_weekly_pulse_uk_rationing_paper_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_pharmaceuticals }
				gbr_weekly_pulse_uk_rationing_pharmaceuticals_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_phosphorus }
				gbr_weekly_pulse_uk_rationing_phosphorus_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_plastics }
				gbr_weekly_pulse_uk_rationing_plastics_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_refined_fuel }
				gbr_weekly_pulse_uk_rationing_refined_fuel_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_rubber }
				gbr_weekly_pulse_uk_rationing_rubber_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_steel }
				gbr_weekly_pulse_uk_rationing_steel_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_sugar }
				gbr_weekly_pulse_uk_rationing_sugar_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_tea }
				gbr_weekly_pulse_uk_rationing_tea_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_tobacco }
				gbr_weekly_pulse_uk_rationing_tobacco_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_tools }
				gbr_weekly_pulse_uk_rationing_tools_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_wine }
				gbr_weekly_pulse_uk_rationing_wine_progress = yes
			}
			if = {
				limit = { has_variable = uk_rationing_wood }
				gbr_weekly_pulse_uk_rationing_wood_progress = yes
			}
			gbr_define_biggest_goods_risk = yes
		}
	}
	
	# on_action which is triggered every first day of the month
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_variable = uk_rationing_aluminum
				}
				change_variable = { name = uk_post_war_rationing_aluminum_progress add = var:uk_post_war_rationing_aluminum_progress_next }
				clamp_variable = { name = uk_post_war_rationing_aluminum_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_bauxite
				}
				change_variable = { name = uk_post_war_rationing_bauxite_progress add = var:uk_post_war_rationing_bauxite_progress_next }
				clamp_variable = { name = uk_post_war_rationing_bauxite_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_fertilizer
				}
				change_variable = { name = uk_post_war_rationing_fertilizer_progress add = var:uk_post_war_rationing_fertilizer_progress_next }
				clamp_variable = { name = uk_post_war_rationing_fertilizer_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_clothes
				}
				change_variable = { name = uk_post_war_rationing_clothes_progress add = var:uk_post_war_rationing_clothes_progress_next }
				clamp_variable = { name = uk_post_war_rationing_clothes_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_coal
				}
				change_variable = { name = uk_post_war_rationing_coal_progress add = var:uk_post_war_rationing_coal_progress_next }
				clamp_variable = { name = uk_post_war_rationing_coal_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_coffee
				}
				change_variable = { name = uk_post_war_rationing_coffee_progress add = var:uk_post_war_rationing_coffee_progress_next }
				clamp_variable = { name = uk_post_war_rationing_coffee_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_copper
				}
				change_variable = { name = uk_post_war_rationing_copper_progress add = var:uk_post_war_rationing_copper_progress_next }
				clamp_variable = { name = uk_post_war_rationing_copper_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_engines
				}
				change_variable = { name = uk_post_war_rationing_engines_progress add = var:uk_post_war_rationing_engines_progress_next }
				clamp_variable = { name = uk_post_war_rationing_engines_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_explosives
				}
				change_variable = { name = uk_post_war_rationing_explosives_progress add = var:uk_post_war_rationing_explosives_progress_next }
				clamp_variable = { name = uk_post_war_rationing_explosives_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_fabric
				}
				change_variable = { name = uk_post_war_rationing_fabric_progress add = var:uk_post_war_rationing_fabric_progress_next }
				clamp_variable = { name = uk_post_war_rationing_fabric_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_fish
				}
				change_variable = { name = uk_post_war_rationing_fish_progress add = var:uk_post_war_rationing_fish_progress_next }
				clamp_variable = { name = uk_post_war_rationing_fish_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_fruit
				}
				change_variable = { name = uk_post_war_rationing_fruit_progress add = var:uk_post_war_rationing_fruit_progress_next }
				clamp_variable = { name = uk_post_war_rationing_fruit_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_glass
				}
				change_variable = { name = uk_post_war_rationing_glass_progress add = var:uk_post_war_rationing_glass_progress_next }
				clamp_variable = { name = uk_post_war_rationing_glass_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_grain
				}
				change_variable = { name = uk_post_war_rationing_grain_progress add = var:uk_post_war_rationing_grain_progress_next }
				clamp_variable = { name = uk_post_war_rationing_grain_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_groceries
				}
				change_variable = { name = uk_post_war_rationing_groceries_progress add = var:uk_post_war_rationing_groceries_progress_next }
				clamp_variable = { name = uk_post_war_rationing_groceries_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_high_quality_fabric
				}
				change_variable = { name = uk_post_war_rationing_high_quality_fabric_progress add = var:uk_post_war_rationing_high_quality_fabric_progress_next }
				clamp_variable = { name = uk_post_war_rationing_high_quality_fabric_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_iron
				}
				change_variable = { name = uk_post_war_rationing_iron_progress add = var:uk_post_war_rationing_iron_progress_next }
				clamp_variable = { name = uk_post_war_rationing_iron_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_lead
				}
				change_variable = { name = uk_post_war_rationing_lead_progress add = var:uk_post_war_rationing_lead_progress_next }
				clamp_variable = { name = uk_post_war_rationing_lead_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_liquor
				}
				change_variable = { name = uk_post_war_rationing_liquor_progress add = var:uk_post_war_rationing_liquor_progress_next }
				clamp_variable = { name = uk_post_war_rationing_liquor_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_meat
				}
				change_variable = { name = uk_post_war_rationing_meat_progress add = var:uk_post_war_rationing_meat_progress_next }
				clamp_variable = { name = uk_post_war_rationing_meat_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_oil
				}
				change_variable = { name = uk_post_war_rationing_oil_progress add = var:uk_post_war_rationing_oil_progress_next }
				clamp_variable = { name = uk_post_war_rationing_oil_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_opium
				}
				change_variable = { name = uk_post_war_rationing_opium_progress add = var:uk_post_war_rationing_opium_progress_next }
				clamp_variable = { name = uk_post_war_rationing_opium_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_paper
				}
				change_variable = { name = uk_post_war_rationing_paper_progress add = var:uk_post_war_rationing_paper_progress_next }
				clamp_variable = { name = uk_post_war_rationing_paper_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_pharmaceuticals
				}
				change_variable = { name = uk_post_war_rationing_pharmaceuticals_progress add = var:uk_post_war_rationing_pharmaceuticals_progress_next }
				clamp_variable = { name = uk_post_war_rationing_pharmaceuticals_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_phosphorus
				}
				change_variable = { name = uk_post_war_rationing_phosphorus_progress add = var:uk_post_war_rationing_phosphorus_progress_next }
				clamp_variable = { name = uk_post_war_rationing_phosphorus_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_plastics
				}
				change_variable = { name = uk_post_war_rationing_plastics_progress add = var:uk_post_war_rationing_plastics_progress_next }
				clamp_variable = { name = uk_post_war_rationing_plastics_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_refined_fuel
				}
				change_variable = { name = uk_post_war_rationing_refined_fuel_progress add = var:uk_post_war_rationing_refined_fuel_progress_next }
				clamp_variable = { name = uk_post_war_rationing_refined_fuel_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_rubber
				}
				change_variable = { name = uk_post_war_rationing_rubber_progress add = var:uk_post_war_rationing_rubber_progress_next }
				clamp_variable = { name = uk_post_war_rationing_rubber_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_steel
				}
				change_variable = { name = uk_post_war_rationing_steel_progress add = var:uk_post_war_rationing_steel_progress_next }
				clamp_variable = { name = uk_post_war_rationing_steel_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_sugar
				}
				change_variable = { name = uk_post_war_rationing_sugar_progress add = var:uk_post_war_rationing_sugar_progress_next }
				clamp_variable = { name = uk_post_war_rationing_sugar_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_tea
				}
				change_variable = { name = uk_post_war_rationing_tea_progress add = var:uk_post_war_rationing_tea_progress_next }
				clamp_variable = { name = uk_post_war_rationing_tea_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_tobacco
				}
				change_variable = { name = uk_post_war_rationing_tobacco_progress add = var:uk_post_war_rationing_tobacco_progress_next }
				clamp_variable = { name = uk_post_war_rationing_tobacco_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_tools
				}
				change_variable = { name = uk_post_war_rationing_tools_progress add = var:uk_post_war_rationing_tools_progress_next }
				clamp_variable = { name = uk_post_war_rationing_tools_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_wine
				}
				change_variable = { name = uk_post_war_rationing_wine_progress add = var:uk_post_war_rationing_wine_progress_next }
				clamp_variable = { name = uk_post_war_rationing_wine_progress max = 360 min = 0 }
			}
			if = {
				limit = {
					has_variable = uk_rationing_wood
				}
				change_variable = { name = uk_post_war_rationing_wood_progress add = var:uk_post_war_rationing_wood_progress_next }
				clamp_variable = { name = uk_post_war_rationing_wood_progress max = 360 min = 0 }
			}
		}
	}
	
	# on_action which is triggered every first day of the year
	on_yearly_pulse = {
	}
	
	# a script value computing the goal completion metric
	current_value = {
		value = root.var:gbr_biggest_goods_risk_progress
	}
	
	# when the journal entry is activated current_value and goal_add_value are evaluated and added together to determine the goal value
	goal_add_value = {
		value = 360
	}

	# the highest weighted active journal entry appears in the goal tracker on the main screen
	weight = 200
	
	# yes/no, determines if this journal entry should be transfered if the player switches country through a revolution or by releasing a subject. Note that external dependencies such as country variables etc are not automatically inherited
	transferable = no

	# yes/no, determines if this journal entry is allowed to be inherited by a victorious revolution. Revolutions also get all variables from the defeated parent country, so most JEs *should* be inherited in this way
	# NOTE: transferable = yes will always mean that revolution inheritance is blocked as these JEs should stay with the player at all times
	can_revolution_inherit = no

	# optional trigger, progress text is shown if this is defined and true
	is_progressing = {
	}

	# yes/no, if yes, a progress bar is shown
	progressbar = yes

	# yes/no, if yes, the Journal Entry can return to an inactive state if its possible trigger reverts to false
	# if no or unspecified, an activated Journal Entry cannot return to being inactive even if it is no longer considered possible
	can_deactivate = no

	# dynamically updated text, which is shown over the progress bar of the Journal Entry
	# value can be a localization key or first_valid + triggered_desc script
	# To use in loc or UI: [JournalEntry.GetProgressDesc]
	# If this is not specified, GetProgressDesc will instead return loc from key <journal_entry_key>_progress
	#progress_desc = 0

	# tutorial lesson explaining HOW to complete the Journal Entry
	#how_tutorial = how_united_kingdom_post_war_rationing

	# tutorial lesson explaining the WHY around the Journal Entry
	#why_tutorial = why_united_kingdom_post_war_rationing

	# whether a Journal Entry should be pinned in its outliner by default. Defaults to 'no'
	should_be_pinned_by_default = yes
	
	# optional invalidation trigger, should not notify player when it triggers, just clean up and silently disappear due to journal entry no longer being valid; if left blank, cannot be invalidated
	invalid = {
	}
	
	# effect which is executed when 'invalid' trigger becomes true
	on_invalid = {
	}
}