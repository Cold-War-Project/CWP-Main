effect_forced_disarmament = {
	activate_law = law_type:law_disarmed_nation
	add_modifier = {
		name = forced_disarmament
		months = long_modifier_time
	}
}

effect_last_stand = {
	add_modifier = {
		name = last_stand
		months = normal_modifier_time
	}
}

effect_remove_obsessions = {
	every_scope_state = {
		limit = {
			is_homeland_of_country_cultures = prev
			NOT = { has_modifier = banned_obsession }
		}
		add_modifier = {
			name = banned_obsession
			months = normal_modifier_time
			is_decaying = yes
		}
	}
}

gbr_set_uk_post_war_rationing_variables = {
	
	#	uk_post_war_rationing_good_progress						: Master Progress Variable to track number of months good has spent outside the acceptable price range
	#	uk_post_war_rationing_good_progress_from_characters		: Variable tracking characters
	#	uk_post_war_rationing_good_progress_from_igs			: Variable tracking interest groups
	#	uk_post_war_rationing_good_progress_from_buildings		: Variable tracking buildings
	#	uk_post_war_rationing_good_progress_from_legitimacy		: Variable tracking current government legitimacy. Strong government = fast progress variable reduction. Weak government legitimacy = slow or no progress variable reduction
	#	uk_post_war_rationing_good_progress_from_effects		: Variable tracking effects from events, etc, that influence the progress Variable
	#	uk_post_war_rationing_good_progress_from_price			: Variable tracking market price of good
	#	uk_post_war_rationing_good_progress_next				: Variable is an incrementor - it is calculated from previous 6 variables (characters, IGs, buildings, government legitimacy, events) on a weekly basis, and is added to uk_post_war_rationing_good_progress on the monthly. Used in localization to tell the player the current rate of change for uk_post_war_rationing_good_progress is.
		
	# Clothes variables
	set_variable = { name = uk_post_war_rationing_clothes_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_next value = 0 }
	
	# Grain variables
	set_variable = { name = uk_post_war_rationing_grain_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_next value = 0 }
	
	# Groceries variables
	set_variable = { name = uk_post_war_rationing_groceries_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_next value = 0 }
	
	# Paper variables
	set_variable = { name = uk_post_war_rationing_paper_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_next value = 0 }
	
	# Fabric variables
	set_variable = { name = uk_post_war_rationing_fabric_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_next value = 0 }
	
	# Coal variables
	set_variable = { name = uk_post_war_rationing_coal_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_next value = 0 }
	
	# Refined Fuel variables
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_next value = 0 }
	
	# Meat variables
	set_variable = { name = uk_post_war_rationing_meat_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_next value = 0 }
	
	# Sugar variables
	set_variable = { name = uk_post_war_rationing_sugar_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_next value = 0 }
	
	# Tea variables
	set_variable = { name = uk_post_war_rationing_tea_progress value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_legitimacy value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_next value = 0 }
	
	# Used solely for mathematical purposes, and is set as equivalent to the clout
	# of a given interest group. It exists so that IGs can be weighted higher or lower
	# depending on whether they're in government or not
	set_variable = { name = uk_ig_weight value = 0 }
}

# Effects like these are run for each rationed good
# Clothes rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_clothes_progress = {
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_clothes_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_clothes_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_clothes_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_clothes_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:clothes = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:clothes = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_clothes_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:clothes = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:clothes = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_clothes_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_clothes_progress_next add = var:uk_post_war_rationing_clothes_progress_from_price }
}

# Grain rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_grain_progress = {
	set_variable = { name = uk_post_war_rationing_grain_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_grain_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_grain_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_grain_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_grain_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:grain = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:grain = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_grain_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:grain = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:grain = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_grain_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_grain_progress_next add = var:uk_post_war_rationing_grain_progress_from_price }
}

# Groceries rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_groceries_progress = {
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_groceries_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_groceries_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_groceries_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_groceries_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:groceries = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:groceries = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_groceries_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:groceries = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:groceries = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_groceries_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_groceries_progress_next add = var:uk_post_war_rationing_groceries_progress_from_price }
}

# Paper rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_paper_progress = {
	set_variable = { name = uk_post_war_rationing_paper_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_paper_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_paper_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_paper_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_paper_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:paper = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:paper = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_paper_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:paper = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:paper = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_paper_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_paper_progress_next add = var:uk_post_war_rationing_paper_progress_from_price }
}

# Fabric rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_fabric_progress = {
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_fabric_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_fabric_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_fabric_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_fabric_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:fabric = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:fabric = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_fabric_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:fabric = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:fabric = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_fabric_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_fabric_progress_next add = var:uk_post_war_rationing_fabric_progress_from_price }
}

# Coal rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_coal_progress = {
	set_variable = { name = uk_post_war_rationing_coal_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_coal_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_coal_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_coal_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_coal_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:coal = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:coal = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_coal_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:coal = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:coal = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_coal_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_coal_progress_next add = var:uk_post_war_rationing_coal_progress_from_price }
}

# Refined Fuel rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_refined_fuel_progress = {
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_refined_fuel_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:refined_fuel = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:refined_fuel = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:refined_fuel = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:refined_fuel = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_refined_fuel_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_refined_fuel_progress_next add = var:uk_post_war_rationing_refined_fuel_progress_from_price }
}

# Meat rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_meat_progress = {
	set_variable = { name = uk_post_war_rationing_meat_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_meat_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_meat_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_meat_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_meat_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:meat = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:meat = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_meat_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:meat = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:meat = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_meat_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_meat_progress_next add = var:uk_post_war_rationing_meat_progress_from_price }
}

# Sugar rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_sugar_progress = {
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_sugar_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_sugar_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_sugar_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_sugar_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:sugar = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:sugar = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_sugar_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:sugar = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:sugar = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_sugar_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_sugar_progress_next add = var:uk_post_war_rationing_sugar_progress_from_price }
}

# Tea rationing progress weekly calculation
gbr_weekly_pulse_uk_rationing_tea_progress = {
	set_variable = { name = uk_post_war_rationing_tea_progress_from_characters value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_igs value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_buildings value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_legitimacy value = root.government_legitimacy }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_effects value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_from_price value = 0 }
	set_variable = { name = uk_post_war_rationing_tea_progress_next value = 0 }
	
	# From Characters - for future reworks if more character interaction is involved in the mod/game
		
	# From Interest Groups - for future reworks if more interest group interaction is involved in the mod/game
	
	# From Buildings - for future reworks if more building interactions is involved in the mod/game
	
	# From Government Legitimacy
	change_variable = { name = uk_post_war_rationing_tea_progress_from_legitimacy divide = 100 }
	change_variable = { name = uk_post_war_rationing_tea_progress_from_legitimacy subtract = 0.5 }
	change_variable = { name = uk_post_war_rationing_tea_progress_from_legitimacy multiply = -1 }
	
	# From price - Price of good goes beyond given limits, government losing control over pricing so progress increases
	#			   Price of good within given limits, government regaining control over pricing so progress decreases
	#			   Easier to lose control than regain it, so takes longer to regain control over pricing of good
	if = {
		limit = {
			OR = {
				market_capital.market = {
					mg:tea = {
						market_goods_cheaper > 0.2
					}
				}
				market_capital.market = {
					mg:tea = {
						market_goods_pricier > 0.2
					}
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_tea_progress_from_price add = 10 }
	}
	if = {
		limit = {
			market_capital.market = {
				mg:tea = {
					market_goods_cheaper < 0.2
				}
			}
			market_capital.market = {
				mg:tea = {
					market_goods_pricier < 0.2
				}
			}
		}
		change_variable = { name = uk_post_war_rationing_tea_progress_from_price subtract = 5 }
	}
	
	# Final Compliiation
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_characters }
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_igs }
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_buildings }
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_legitimacy }
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_effects }
	change_variable = { name = uk_post_war_rationing_tea_progress_next add = var:uk_post_war_rationing_tea_progress_from_price }
}

# Define good that government is closest to losing price/demand control over
gbr_define_biggest_goods_risk = {
	if = {
		limit = {
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_clothes_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_clothes_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_grain_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_grain_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_groceries_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_groceries_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_paper_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_paper_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_fabric_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_fabric_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_coal_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_coal_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_refined_fuel_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_refined_fuel_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_sugar_progress
			var:uk_post_war_rationing_meat_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_meat_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_sugar_progress > var:uk_post_war_rationing_tea_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_sugar_progress }
	}
	else_if = {
		limit = {
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_clothes_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_grain_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_groceries_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_paper_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_fabric_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_coal_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_refined_fuel_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_meat_progress
			var:uk_post_war_rationing_tea_progress > var:uk_post_war_rationing_sugar_progress
		}
		set_variable = { name = gbr_biggest_goods_risk_progress value = var:uk_post_war_rationing_tea_progress }
	}
}

# Clears unused variables - Save memory/performance
gbr_remove_uk_post_war_rationing_variables = {
	remove_variable = uk_post_war_rationing_clothes_progress
	remove_variable = uk_post_war_rationing_clothes_progress_from_buildings
	remove_variable = uk_post_war_rationing_clothes_progress_from_characters
	remove_variable = uk_post_war_rationing_clothes_progress_from_effects
	remove_variable = uk_post_war_rationing_clothes_progress_from_igs
	remove_variable = uk_post_war_rationing_clothes_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_clothes_progress_from_price
	remove_variable = uk_post_war_rationing_clothes_progress_next
	remove_variable = uk_post_war_rationing_grain_progress
	remove_variable = uk_post_war_rationing_grain_progress_from_buildings
	remove_variable = uk_post_war_rationing_grain_progress_from_characters
	remove_variable = uk_post_war_rationing_grain_progress_from_effects
	remove_variable = uk_post_war_rationing_grain_progress_from_igs
	remove_variable = uk_post_war_rationing_grain_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_grain_progress_from_price
	remove_variable = uk_post_war_rationing_grain_progress_next
	remove_variable = uk_post_war_rationing_groceries_progress
	remove_variable = uk_post_war_rationing_groceries_progress_from_buildings
	remove_variable = uk_post_war_rationing_groceries_progress_from_characters
	remove_variable = uk_post_war_rationing_groceries_progress_from_effects
	remove_variable = uk_post_war_rationing_groceries_progress_from_igs
	remove_variable = uk_post_war_rationing_groceries_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_groceries_progress_from_price
	remove_variable = uk_post_war_rationing_groceries_progress_next
	remove_variable = uk_post_war_rationing_paper_progress
	remove_variable = uk_post_war_rationing_paper_progress_from_buildings
	remove_variable = uk_post_war_rationing_paper_progress_from_characters
	remove_variable = uk_post_war_rationing_paper_progress_from_effects
	remove_variable = uk_post_war_rationing_paper_progress_from_igs
	remove_variable = uk_post_war_rationing_paper_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_paper_progress_from_price
	remove_variable = uk_post_war_rationing_paper_progress_next
	remove_variable = uk_post_war_rationing_fabric_progress
	remove_variable = uk_post_war_rationing_fabric_progress_from_buildings
	remove_variable = uk_post_war_rationing_fabric_progress_from_characters
	remove_variable = uk_post_war_rationing_fabric_progress_from_effects
	remove_variable = uk_post_war_rationing_fabric_progress_from_igs
	remove_variable = uk_post_war_rationing_fabric_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_fabric_progress_from_price
	remove_variable = uk_post_war_rationing_fabric_progress_next
	remove_variable = uk_post_war_rationing_coal_progress
	remove_variable = uk_post_war_rationing_coal_progress_from_buildings
	remove_variable = uk_post_war_rationing_coal_progress_from_characters
	remove_variable = uk_post_war_rationing_coal_progress_from_effects
	remove_variable = uk_post_war_rationing_coal_progress_from_igs
	remove_variable = uk_post_war_rationing_coal_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_coal_progress_from_price
	remove_variable = uk_post_war_rationing_coal_progress_next
	remove_variable = uk_post_war_rationing_refined_fuel_progress
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_buildings
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_characters
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_effects
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_igs
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_refined_fuel_progress_from_price
	remove_variable = uk_post_war_rationing_refined_fuel_progress_next
	remove_variable = uk_post_war_rationing_meat_progress
	remove_variable = uk_post_war_rationing_meat_progress_from_buildings
	remove_variable = uk_post_war_rationing_meat_progress_from_characters
	remove_variable = uk_post_war_rationing_meat_progress_from_effects
	remove_variable = uk_post_war_rationing_meat_progress_from_igs
	remove_variable = uk_post_war_rationing_meat_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_meat_progress_from_price
	remove_variable = uk_post_war_rationing_meat_progress_next
	remove_variable = uk_post_war_rationing_sugar_progress
	remove_variable = uk_post_war_rationing_sugar_progress_from_buildings
	remove_variable = uk_post_war_rationing_sugar_progress_from_characters
	remove_variable = uk_post_war_rationing_sugar_progress_from_effects
	remove_variable = uk_post_war_rationing_sugar_progress_from_igs
	remove_variable = uk_post_war_rationing_sugar_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_sugar_progress_from_price
	remove_variable = uk_post_war_rationing_sugar_progress_next
	remove_variable = uk_post_war_rationing_tea_progress
	remove_variable = uk_post_war_rationing_tea_progress_from_buildings
	remove_variable = uk_post_war_rationing_tea_progress_from_characters
	remove_variable = uk_post_war_rationing_tea_progress_from_effects
	remove_variable = uk_post_war_rationing_tea_progress_from_igs
	remove_variable = uk_post_war_rationing_tea_progress_from_legitimacy
	remove_variable = uk_post_war_rationing_tea_progress_from_price
	remove_variable = uk_post_war_rationing_tea_progress_next
}