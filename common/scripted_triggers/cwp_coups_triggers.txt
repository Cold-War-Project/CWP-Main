# Character Scope
character_eligible_for_coup = {
	# Correct role, either military or IG is in government
	OR = {
		has_role = general
		has_role = admiral
		AND = {
			has_role = politician
			interest_group = {
				is_in_government = yes
			}
		}
		AND = {
			has_role = agitator
			interest_group = {
				is_in_government = yes
			}
		}
	}
	# Traits and not ruler
	NOR = {
		has_role = ruler
		has_trait = trait_child
		has_trait = trait_honest
		has_ideology = ideology_pacifist
	}
	OR = {
		owner = { has_law = law_type:law_autocracy }
		owner = { has_law = law_type:law_oligarchy }
		owner = { has_law = law_type:law_anocracy }
		AND = {
			NOR = {
				owner = { has_law = law_type:law_autocracy }
				owner = { has_law = law_type:law_oligarchy }
				owner = { has_law = law_type:law_anocracy }
			}
			OR = {
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
				law_stance = {
					law = law_type:law_oligarchy
					value > neutral
				}
				law_stance = {
					law = law_type:law_anocracy
					value > neutral
				}
			}
		}
		AND = {
			owner = { has_law = law_type:law_hereditary }
			OR = {
				law_stance = {
					law = law_type:law_hereditary
					value < neutral
				}
			}
		}
		
		AND = {
			owner = { has_law = law_type:law_theocratic }
			law_stance = {
				law = law_type:law_theocratic
				value < neutral
			}
		}
		AND = {
			OR = {
				owner = { has_law = law_type:law_parliamentary }
				owner = { has_law = law_type:law_executive }
			}
			OR = {
				law_stance = {
					law = law_type:law_parliamentary
					value < neutral
				}
				law_stance = {
					law = law_type:law_executive
					value < neutral
				}
			}
		}
		AND = {
			owner = { has_law = law_type:law_council_elective }
			law_stance = {
				law = law_type:law_council_elective
				value < neutral
			}
		}
	}
}

# IG Scope
interest_group_eligible_for_coup = {
	is_marginal = no
	is_insurrectionary = no
	OR = {
		ig_approval < 0
		AND = {
			ig_corruption_value > 0.1
			ig_approval < 2
		}
		AND = {
			ig_corruption_value > 0.25
			ig_approval < 4
		}
		AND = {
			ig_corruption_value > 0.5
			ig_approval < 6
		}
		AND = {
			ig_corruption_value > 0.75
			ig_approval < 8
		}
		AND = {
			ig_corruption_value > 0.9
			ig_approval < 10
		}
	}
	NOT = {
		any_scope_character = {
			is_ruler = yes
		}
	}
	any_scope_character = {
		character_eligible_for_coup = yes
	}
}