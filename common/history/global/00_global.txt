# This is executed last among all history
GLOBAL = {
	# IMF
	set_global_variable = {
		name = imf_headquarters
		value = s:STATE_CHESAPEAKE.region_state:USA
	}
	every_in_global_list = {
		variable = imf_members
		set_imf_vars = yes
	}
	# Currency
	set_global_variable = {
		name = global_currency
		value = c:USA
	}
	set_global_variable = bretton_woods_agreement
	#USA-Sphere
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:USA
	}	#USD
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:JAP
	}	#JPY
	#Anglo-Sphere
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:GBR
	}	#GBP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:CAN
	}	#CAD
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:AST
	}	#AUP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:NZL
	}	#NZP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SAF
	}	#ZAR
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:IRE
	}	#IEP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:EGY
	}	#EGP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:HND
	}	#INR
	#Franco-Sphere
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:FRA
	}	#FRF
	#Russo-Sphere
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:RUS
	}	#SUR
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:POL
	}	#PLN
	#Nordics
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SWE
	}	#SEK
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:NOR
	}	#NOK
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:FIN
	}	#FIM
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:DEN
	}	#DKK
	#South America
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:BRZ
	}	#BRZ
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PEU
	}	#PEN
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ARG
	}	#ARS
	#China
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ROC
	}	#CNY
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PRC
	}	#CNY
	#Iberia
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SPA
	}	#ESP
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:POR
	}	#PTE
	#Others
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:MEX
	}	#MXN
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:PER
	}	#IRR
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:TUR
	}	#TRL
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:YUG
	}	#YUF
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:ITA
	}	#ITL
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:SWI
	}	#CHF
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:GRE
	}	#GRD
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:STK
	}	#KRW
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:THA
	}	#THB
	add_to_global_variable_list = {
		name = central_bank_list
		target = c:VNZ
	}	#VEB
	set_currency = {
		currency = usd
		value = 10
		denominationValue = 1
	}
	set_currency = {
		currency = frf
		value = 9.3
		denominationValue = 1000
	}
	set_currency = {
		currency = gbp
		value = 40.3
		denominationValue = 1
	}
	set_currency = {
		currency = sur
		value = 2.7
		denominationValue = 10
	}
	set_currency = {
		currency = brz
		value = 2.7
		denominationValue = 10
	}
	set_currency = {
		currency = dem
		value = 2.7
		denominationValue = 10
	}
	set_currency = {
		currency = pen
		value = 0.6
		denominationValue = 10
	}
	set_currency = {
		currency = mxn
		value = 0.8
		denominationValue = 10
	}
	#set_currency = { currency = dnr value = 100 denominationValue = 1 }
	set_currency = {
		currency = irr
		value = 0.3
		denominationValue = 1000
	}
	set_currency = {
		currency = trl
		value = 0.11
		denominationValue = 10
	}
	set_currency = {
		currency = yuf
		value = 0.8
		denominationValue = 10
	}
	set_currency = {
		currency = pln
		value = 3.4
		denominationValue = 1
	}
	set_currency = {
		currency = cad
		value = 10.1
		denominationValue = 1
	}
	set_currency = {
		currency = aud
		value = 9
		denominationValue = 1
	}
	set_currency = {
		currency = nzd
		value = 9
		denominationValue = 1
	}
	set_currency = {
		currency = aup
		value = 3.3
		denominationValue = 1
	}
	set_currency = {
		currency = nzp
		value = 3.1
		denominationValue = 1
	}
	set_currency = {
		currency = itl
		value = 0.67
		denominationValue = 100
	}
	set_currency = {
		currency = jpy
		value = 2.8
		denominationValue = 100
	}
	set_currency = {
		currency = chf
		value = 2.3
		denominationValue = 1
	}
	set_currency = {
		currency = ars
		value = 2.7
		denominationValue = 1
	}
	set_currency = {
		currency = cny
		value = 2
		denominationValue = 1
	}
	set_currency = {
		currency = inr
		value = 3
		denominationValue = 1
	}
	set_currency = {
		currency = zar
		value = 1.7
		denominationValue = 1
	}
	set_currency = {
		currency = sek
		value = 1.6
		denominationValue = 1
	}
	set_currency = {
		currency = egp
		value = 23.2
		denominationValue = 1
	}
	set_currency = {
		currency = grd
		value = 0.3
		denominationValue = 10
	}
	set_currency = {
		currency = iep
		value = 18.8
		denominationValue = 1
	}
	set_currency = {
		currency = esp
		value = 0.78
		denominationValue = 10
	}
	set_currency = {
		currency = pte
		value = 0.14
		denominationValue = 10
	}
	set_currency = {
		currency = nok
		value = 1.5
		denominationValue = 1
	}
	set_currency = {
		currency = fim
		value = 2.3
		denominationValue = 1
	}
	set_currency = {
		currency = dkk
		value = 1.6
		denominationValue = 1
	}
	set_currency = {
		currency = krw
		value = 0.9
		denominationValue = 100
	}
	set_currency = {
		currency = thb
		value = 2
		denominationValue = 1
	}
	set_currency = {
		currency = veb
		value = 30.35
		denominationValue = 1
	}
	set_currency = {
		currency = php
		value = 5
		denominationValue = 100
	}
	# Fiscal
	every_country = {
		limit = {
			not = {
				has_variable = foreign_reserves
			}
		}
		set_variable = {
			name = foreign_reserves
			value = 0
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = inflation_rate
			}
		}
		set_variable = {
			name = inflation_rate
			value = 0
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = interest_rate_gui
			}
		}
		set_variable = {
			name = interest_rate_gui
			value = 2
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = interest_rate
			}
		}
		set_variable = {
			name = interest_rate
			value = 2
		}
		add_modifier = {
			name = interest_rates
			multiplier = 2
		}
	}
	every_country = {
		limit = {
			nor = {
				has_variable = contractionary_monetary_policy
				has_variable = stable_monetary_policy
				has_variable = expansionary_monetary_policy
			}
		}
		set_variable = stable_monetary_policy
	}
	every_country = {
		limit = {
			not = {
				has_variable = bank_credibility
			}
		}
		set_variable = {
			name = bank_credibility
			value = 19
		}
		set_variable = {
			name = previous_bank_credibility
			value = var:bank_credibility
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = money_supply
			}
		}
		set_variable = {
			name = money_supply
			value = {
				add = gold_reserves_limit
				divide = 2
			}
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = cwp_currency
			}
		}
		set_variable = {
			name = cwp_currency
			value = flag:currency_usd
		}
	}
	# International List
	every_country = {
		limit = {
			not = {
				has_variable = un_member
			}
		}
		set_country_type = unrecognized
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		set_country_type = recognized
	}
	every_country = {
		limit = {
			has_variable = unsc_member
		}
		add_to_global_variable_list = {
			name = unsc_members_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		add_to_global_variable_list = {
			name = un_members_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_observer
		}
		add_to_global_variable_list = {
			name = un_observers_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			NOR = {
				has_variable = un_observer
				has_variable = un_member
			}
		}
		add_to_global_variable_list = {
			name = un_nonmember_list
			target = THIS
		}
	}
	every_country = {
		limit = {
			has_variable = un_headquarters_holder
		}
		add_to_global_variable_list = {
			name = un_headquarters_holder
			target = THIS
		}
	}
	## UN Variables
	random_country = {
		set_global_variable = {
			name = var_un_memberlist
			value = 0
		}
	}
	every_country = {
		limit = {
			has_variable = un_member
		}
		change_global_variable = {
			name = var_un_memberlist
			add = 1
		}
	}
	## Corruption Variables
	every_country = {
		trigger_event = {
			id = debug.100
			days = 1
		}
	}
	every_country = {
		limit = {
			not = {
				has_variable = var_readiness
			}
		}
		set_variable = {
			name = var_readiness
			value = 50
		}
	}
	## Habitability Setup
	# Range (%):
	# -1 < 0 < 1
	every_country = {
		every_scope_state = {
			onaction_calc_starting_habitability = yes
			onaction_set_habitability_effects = yes
		}
	}
	## Dynamic Peace deal State Setup
	effect_china_states_scopes_setup = yes
	# Urbanization Setup
	every_country = {
		every_scope_state = {
			onaction_urbanization_modifier = yes
			every_scope_building = {
				limit = {
					is_building_type = building_renewable_energy_facility
				}
				if = {
					limit = {
						state = {
							is_excellent_solar_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_excellent_wind_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_excellent_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = excellent_hydroelectric_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_solar_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_wind_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_moderate_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = moderate_hydroelectric_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_solar_capacity = yes
						}
					}
					add_modifier = {
						name = poor_solar_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_wind_capacity = yes
						}
					}
					add_modifier = {
						name = poor_wind_capacity
					}
				}
				if = {
					limit = {
						state = {
							is_poor_hydroelectric_capacity = yes
						}
					}
					add_modifier = {
						name = poor_hydroelectric_capacity
					}
				}
			}
		}
	}
	## Bloc Setup
	every_country = {
		limit = {
			has_diplomatic_pact = {
				who = c:USA
				type = diplomatic_alignment
			}
		}
		effect_western_bloc_nation = yes
	}
	every_country = {
		limit = {
			has_diplomatic_pact = {
				who = c:RUS
				type = diplomatic_alignment
			}
		}
		effect_eastern_bloc_nation = yes
	}
	#Event Variables	
	set_global_variable = {
		name = number_of_mega_earthquakes
		value = 0
	}
	set_global_variable = {
		name = number_of_mega_floods
		value = 0
	}
	set_global_variable = {
		name = number_of_mega_eruptions
		value = 0
	}
	#USA dynamic flag
	s:STATE_CHESAPEAKE = {
		set_variable = {
			name = usa_state_flag_block
			value = yes
		}
	}
	# Party Setup
	every_country = {
		setup_parties = yes
		setup_starting_ideologies = yes
	}
	# IMF
	order_imf_gdp_list = yes
	order_imf_contributors_list = yes
	order_imf_debtor_list = yes
	### Variable Errors Fixing - HACK!  Fix these eventually
	every_country = {
		#Variable is set but is never used. Note that use in localization doesn't count due to technical limitations. Use in unused scripted triggers and effects also does not count
		fix_variable_error = {
			X = asked_un_observer
		}
		fix_variable_error = {
			X = rep_china
		}
		fix_variable_error = {
			X = com_china
		}
		fix_variable_error = {
			X = has_climate_research
		}
		fix_variable_error = {
			X = nato_readiness_changed
		}
		fix_variable_error = {
			X = nato_contribution_changed
		}
		fix_variable_error = {
			X = warsaw_pact_readiness_changed
		}
		fix_variable_error = {
			X = warsaw_pact_contribution_changed
		}
		fix_variable_error = {
			X = nato_headquarters
		}
		fix_variable_error = {
			X = warsaw_pact_headquarters
		}
		fix_variable_error = {
			X = global_currency
		}
		# Decolonization Placeholder Variables - will use later
		fix_variable_error = {
			X = special_decolonization_scenario
		}
		fix_variable_error = {
			X = anti_imperialist_policy
		}
		fix_variable_error = {
			X = imperialist_policy
		}
		fix_variable_error = {
			X = decolonized_nation
		}
		# IMF
		fix_variable_error = {
			X = imf_headquarters
		}
	}
}
