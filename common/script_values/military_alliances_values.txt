nato_membersize = {
	value = 0
	every_in_global_list = {
		variable = nato_members
		add = 1
	}
}

divisionsize = {
	value = army_size
}

navysize = {
	value = navy_size
}

nato_armysize = {
	value = 0
	every_country = {
		limit = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = THIS
			}
		}
		add = divisionsize
	}
}

nato_navysize = {
	value = 0
	every_country = {
		limit = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = THIS
			}
		}
		add = navy_size
	}
}

nato_readiness = {
	every_country = {
		limit = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = THIS
			}
		}
		add = readiness
	}
	divide = nato_membersize
}

nato_mandated_readiness = {
	value = 0
	if = {
		limit = {
			has_global_variable = nato_low_mandated_readiness
		}
		value = 15
	}
	if = {
		limit = {
			has_global_variable = nato_medium_mandated_readiness
		}
		value = 50
	}
	if = {
		limit = {
			has_global_variable = nato_high_mandated_readiness
		}
		value = 90
	}
}

nato_minimum_contribution_level = {
	value = 0
	if = {
		limit = {
			has_global_variable = nato_low_mandated_contribution
		}
		value = 5
	}
	if = {
		limit = {
			has_global_variable = nato_medium_mandated_contribution
		}
		value = 3
	}
	if = {
		limit = {
			has_global_variable = nato_high_mandated_contribution
		}
		value = 2
	}
}

nato_minimum_contribution = {
	value = total_population
	divide = 1500000
	divide = nato_minimum_contribution_level
	round = yes
}

nato_meeting_minimum_contribution = {
	every_country = {
		limit = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = THIS
			}
			divisionsize >= nato_minimum_contribution 
		}
		add = 1
	}
}

nato_applying_states = {
	every_country = {
		limit = {
			has_variable = application_progress_un
		}	
		add = 1
	}
	round = yes
}

nato_supporting_countries = {
	value = 0
	if = {
		limit = {
			exists = var:nato_supporting_list_size
		}
		add = var:nato_supporting_list_size
	}
}

application_progress_nato = {
	value = var:application_progress_nato
}