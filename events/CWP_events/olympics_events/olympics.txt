namespace = olympics

olympics.1 = {
	type = country_event	
	placement = ROOT

	trigger = {
		global_var:olympics_next_host_city.owner = THIS
		year = global_var:olympics_next
	}

	immediate = {
		set_global_variable = {
			name = olympics_next
			value = global_var:olympics_after_next
		}
		change_global_variable = {
			name = olympics_after_next
			add = 4
		}

		#Set next host city
		ordered_in_global_list = {
			variable = olympics_host_city_applicants
			order_by = olympic_application_ranking
			max = 1
			check_range_bounds = no
			set_global_variable = {
				name = olympics_next_host_city
				value = THIS
			}
      		remove_list_global_variable = {
      			name = olympics_host_city_applicants
       	 	    target = THIS
       		}
		}

		ordered_in_global_list = {
			variable = olympics_host_city_applicants
			order_by = olympic_application_ranking
			max = 1
			check_range_bounds = no
			set_global_variable = {
				name = olympics_next_host_city_alt
				value = THIS
			}
      		remove_list_global_variable = {
      			name = olympics_host_city_applicants
       	 	    target = THIS
       		}
		}

		clear_global_variable_list = olympics_host_city_applicants
	}
}

olympics.2 = {
	type = country_event	
	placement = ROOT

	option = {
		name = olympics.2.a
		ai_chance = {
			base = 100
		}
		SCOPE:potential_olympic_host_state = { 
			add_to_global_variable_list = {
				name = olympics_host_city_applicants
				target = THIS
			}
		}
		order_host_city_applicants_list = yes
	}
	option = {
		name = olympics.2.b
		default_option = yes
		ai_chance = {
			base = 0
		}
	}
}