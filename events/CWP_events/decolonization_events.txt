namespace = decolonization
# Kept the empire together
decolonization.1 = {
	type = country_event
	title = decolonization.1.t
	desc = decolonization.1.desc
	flavor = decolonization.1.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
	}
	option = {
		# Long live the empire 
		name = decolonization.1.a
		default_option = yes
		add_modifier = {
			name = sun_never_sets
			months = very_long_modifier_time
		}
	}
}

# Amicable separation, get customs union
decolonization.2 = {
	type = country_event
	title = decolonization.2.t
	desc = decolonization.2.desc
	flavor = decolonization.2.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
		effect_decolonize_all = yes
	}
	option = {
		# Let them go
		name = decolonization.2.a
		default_option = yes
		add_modifier = {
			name = sun_setting_on_empire
			months = very_long_modifier_time
		}
		every_subject_or_below = {
			limit = {
				is_direct_subject_of = ROOT
				NOT = {
					country_definition = {
						any_primary_culture = {
							shares_heritage_trait_with_any_primary_culture = ROOT
						}
					}
					has_variable = special_decolonization_scenario
					is_subject_type = subject_type_military_occupation
				}
			}
			make_independent = yes
			if = {
				limit = {
					has_diplomatic_pact = {
						who = root
						type = customs_union
					}
				}
				remove_diplomatic_pact = {
					country = root
					type = customs_union
				}
			}
			ROOT = {
				change_relations = {
					country = prev
					value = 50
				}
			}
		}
		ai_chance = {
			base = 0
		}
	}
	option = {
		# Create a customs union with our former subjects
		name = decolonization.2.b
		every_subject_or_below = {
			limit = {
				is_direct_subject_of = ROOT
				NOT = {
					country_definition = {
						any_primary_culture = {
							shares_heritage_trait_with_any_primary_culture = ROOT
						}
					}
					has_variable = special_decolonization_scenario
					is_subject_type = subject_type_military_occupation
				}
			}
			make_independent = yes
			ROOT = {
				create_diplomatic_pact = {
					country = prev
					type = customs_union
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

# Clean Break
decolonization.3 = {
	type = country_event
	title = decolonization.3.t
	desc = decolonization.3.desc
	flavor = decolonization.3.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
		effect_decolonize_all = yes
		every_subject_or_below = {
			limit = {
				is_direct_subject_of = ROOT
				NOT = {
					has_variable = special_decolonization_scenario
					is_subject_type = subject_type_military_occupation
				}
			}
			if = {
				limit = {
					exists = c:FRA
					root = c:FRA
					num_states > 4
					is_subject_type = subject_type_puppet
					NOT = {
						has_journal_entry = indian_partition
					}
				}
				make_independent = yes
				effect_dissolve_nation = yes
			}
			else = {
				make_independent = yes
			}
			if = {
				limit = {
					has_diplomatic_pact = {
						who = root
						type = customs_union
					}
				}
				remove_diplomatic_pact = {
					country = root
					type = customs_union
				}
			}
		}
		effect_free_all_subjects = yes
	}
	option = {
		# And so the sun sets on the empire
		name = decolonization.3.a
		default_option = yes
		add_modifier = {
			name = sun_setting_on_empire
			months = long_modifier_time
		}
		ai_chance = {
			base = 100
		}
	}
}

# Subject Revolt Event
decolonization.100 = {
	type = country_event
	title = decolonization.100.t
	desc = decolonization.100.desc
	flavor = decolonization.100.f
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	trigger = {
		OR = {
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_protectorate
			is_subject_type = subject_type_dominion
		}
	}
	option = {
		# Join the war
		name = decolonization.100.a
		default_option = yes
		hidden_effect = {
			set_variable = {
				name = revolting_subject
				months = 6
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				trigger = {
					is_subject_type = subject_type_dominion
				}
				add = -100
			}
			modifier = {
				trigger = {
					is_subject_type = subject_type_protectorate
				}
				add = -50
			}
			modifier = {
				trigger = {
					root.overlord.infamy > infamy_threshold:infamous
				}
				add = 50
			}
			modifier = {
				trigger = {
					root.overlord.infamy > infamy_threshold:notorious
				}
				add = 100
			}
			modifier = {
				trigger = {
					root.overlord.infamy > infamy_threshold:pariah
				}
				add = 1000
			}
		}
	}
	option = {
		# Refuse to join the war
		name = decolonization.100.b
		default_option = no
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					is_subject_type = subject_type_dominion
				}
				add = 100
			}
			modifier = {
				trigger = {
					is_subject_type = subject_type_protectorate
				}
				add = 50
			}
		}
	}
}

# We have lost control of our colonies
decolonization.101 = {
	type = country_event
	title = decolonization.101.t
	desc = decolonization.101.desc
	flavor = decolonization.101.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
		every_diplomatic_play = {
			limit = {
				OR = {
					AND = {
						initiator_is = root
						any_scope_play_involved = {
							is_subject_of = root
							prev = {
								target_is = prev
							}
						}
					}
					AND = {
						target_is = root
						any_scope_play_involved = {
							is_subject_of = root
							prev = {
								initiator_is = prev
							}
						}
					}
				}
			}
			end_play = yes
		}
		effect_decolonize_all = yes
		every_subject_or_below = {
			limit = {
				is_direct_subject_of = ROOT
				NOT = {
					has_variable = special_decolonization_scenario
					is_subject_type = subject_type_military_occupation
				}
			}
			trigger_event = {
				id = decolonization.100
				days = 0
			}
		}
	}
	option = {
		# This may end poorly
		name = decolonization.101.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		hidden_effect = {
			trigger_event = {
				id = decolonization.102
				days = 90
			}
		}
	}
}

# Ultimatum 
decolonization.102 = {
	type = country_event
	title = decolonization.102.t
	desc = decolonization.102.desc
	flavor = decolonization.102.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
	}
	option = {
		# Back Down
		name = decolonization.102.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = decolonization.102.a.tt
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					NOT = {
						is_subject_type = subject_type_military_occupation
					}
				}
				if = {
					limit = {
						exists = c:FRA
						root = c:FRA
						num_states > 4
						is_subject_type = subject_type_puppet
						NOT = {
							has_journal_entry = indian_partition
						}
					}
					make_independent = yes
					effect_dissolve_nation = yes
				}
				else = {
					make_independent = yes
				}
				if = {
					limit = {
						has_diplomatic_pact = {
							who = root
							type = customs_union
						}
					}
					remove_diplomatic_pact = {
						country = root
						type = customs_union
					}
				}
			}
			effect_free_all_subjects = yes
		}
	}
	option = {
		# War
		name = decolonization.102.b
		default_option = no
		ai_chance = {
			base = 0
			modifier = {
				trigger = {
					root.infamy > infamy_threshold:pariah
				}
				add = 100
			}
		}
		trigger = {
			any_subject_or_below = {
				is_direct_subject_of = ROOT
				has_variable = revolting_subject
				NOT = {
					is_subject_type = subject_type_military_occupation
				}
			}
		}
		custom_tooltip = {
			text = decolonization.102.b.tt
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					has_variable = revolting_subject
					NOT = {
						is_subject_type = subject_type_military_occupation
					}
				}
				remove_variable = revolting_subject
				deactivate_law = law_type:law_disarmed_nation
				capital = {
					create_building = {
						building = building_barracks
						level = 10
						reserves = 5
					}
				}
				make_independent = yes
				set_variable = revolt_subject
			}
			every_country = {
				limit = {
					has_variable = revolt_subject
				}
				remove_variable = revolt_subject
				root = {
					create_diplomatic_play = {
						name = independence_war
						type = dp_reassert_dominion
						escalation = 80
						target_country = prev
					}
				}
			}
		}
	}
}

decolonization.501 = {
	type = country_event
	title = decolonization.501.t
	desc = decolonization.501.desc
	flavor = decolonization.501.f
	placement = s:STATE_LIBYA.region_state:LBY
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/libyan_independence.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:LBY ?= this
		owns_entire_state_region = STATE_LIBYA
		is_subject_type = subject_type_military_occupation
		game_date >= 1951.12.1
		NOT = {
			has_variable = decolonization_events_1
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:LBY
			c:LBY = {
				is_subject_type = subject_type_military_occupation
			}
		}
	}
	immediate = {
		if = {
			limit = {
				exists = c:FEZ
				c:FEZ = {
					is_subject_type = subject_type_military_occupation
				}
			}
			annex = c:FEZ
			set_capital = STATE_TRIPOLI
		}
		set_variable = decolonization_events_1
	}
	option = {
		# We need a king!
		name = decolonization.501.a
		default_option = yes
		trigger = {
			overlord = {
				has_law = law_type:law_hereditary
			}
		}
		make_independent = yes
		activate_law = law_type:law_hereditary
		create_character = { template = lby_king_idris_template }
	}
	option = {
		# Form a Republic
		name = decolonization.501.b
		trigger = {
			overlord = {
				NOR = {
					has_law = law_type:law_hereditary
					has_law = law_type:law_council_elective
				}
			}
		}
		make_independent = yes
		activate_law = law_type:law_executive
	}
	option = {
		# A Worker's Council
		name = decolonization.501.c
		trigger = {
			overlord = {
				has_law = law_type:law_council_elective
			}
		}
		make_independent = yes
		activate_law = law_type:law_council_elective
	}
}

# The Eritrea Situation
decolonization.502 = {
	type = country_event
	title = decolonization.502.t
	desc = decolonization.502.desc
	flavor = decolonization.502.f
	placement = s:STATE_ERITREA.region_state:ERI
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:ERI
		c:ERI = {
			is_subject_of = root
			is_subject_type = subject_type_military_occupation
			exists = s:STATE_ERITREA.region_state:ERI
		}
		game_date >= 1950.12.1
		NOT = {
			has_variable = decolonization_events_2
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:ERI
			c:ERI = {
				is_subject_of = root
				is_subject_type = subject_type_military_occupation
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_2
	}
	option = {
		# Cede Eritrea
		name = decolonization.502.a
		default_option = yes
		trigger = {
			exists = c:ETH
			c:ETH = {
				NOR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
		}
		c:ETH = {
			annex = c:ERI
		}
		ai_chance = {
			base = 80
		}
	}
	option = {
		# Make Eritrea Independent
		name = decolonization.502.b
		c:ERI = {
			make_independent = yes
		}
		ai_chance = {
			base = 20
		}
	}
}

# Release West Sahara
decolonization.503 = {
	type = country_event
	title = decolonization.503.t
	desc = decolonization.503.desc
	flavor = decolonization.503.f
	placement = s:STATE_WEST_SAHARA.region_state:SPA
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:SPA ?= this
		owns_entire_state_region = STATE_WEST_SAHARA
		game_date >= 1975.1.1
		OR = {
			has_global_variable = decolonization_resolutioncomplete
			AND = {
				exists = c:MOR
				c:MOR = {
					is_subject = no
				}
			}
			AND = {
				exists = c:MAU
				c:MAU = {
					is_subject = no
				}
			}
		}
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		NOT = {
			has_variable = decolonization_events_3
		}
	}
	cancellation_trigger = {
		NOT = {
			owns_entire_state_region = STATE_WEST_SAHARA
		}
	}
	immediate = {
		set_variable = decolonization_events_3
	}
	option = {
		# Cede West Sahara to Morocco
		name = decolonization.503.a
		default_option = yes
		trigger = {
			exists = c:MOR
			c:MOR = {
				NOR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
		}
		S:STATE_WEST_SAHARA.region_state:SPA = {
			set_state_owner = c:MOR
		}
		if = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_INNER_MOROCCO
				}
				exists = c:MOR
			}
			S:STATE_INNER_MOROCCO.region_state:SPA = {
				set_state_owner = c:MOR
			}
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Cede West Sahara to Mauritania
		name = decolonization.503.b
		trigger = {
			exists = c:MAU
			c:MAU = {
				NOR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
		}
		S:STATE_WEST_SAHARA.region_state:SPA = {
			set_state_owner = c:MAU
		}
		if = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_INNER_MOROCCO
				}
				exists = c:MOR
			}
			S:STATE_INNER_MOROCCO.region_state:SPA = {
				set_state_owner = c:MOR
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = {
		# Make West Sahara Independent
		name = decolonization.503.c
		create_country = {
			tag = WSH
			origin = root
			state = S:STATE_WEST_SAHARA.region_state:SPA
			on_created = {
				effect_post_decolonization = yes
			}
		}
		if = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_INNER_MOROCCO
				}
				exists = c:MOR
			}
			S:STATE_INNER_MOROCCO.region_state:SPA = {
				set_state_owner = c:MOR
			}
		}
		ai_chance = {
			base = 10
		}
	}
}

# Release Al Rif
decolonization.504 = {
	type = country_event
	title = decolonization.504.t
	desc = decolonization.504.desc
	flavor = decolonization.504.f
	placement = s:STATE_AL_RIF.region_state:SPA
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:SPA ?= this
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		OR = {
			has_global_variable = decolonization_resolutioncomplete
			AND = {
				exists = c:MOR
				c:MOR = {
					is_subject = no
				}
				NOR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
		}
		exists = s:STATE_AL_RIF.region_state:SPA
		NOT = {
			has_variable = decolonization_events_4
		}
	}
	cancellation_trigger = {
		NOT = {
			exists = s:STATE_AL_RIF.region_state:SPA
		}
	}
	immediate = {
		set_variable = decolonization_events_4
		if = {
			limit = {
				exists = c:MOR
				exists = s:STATE_INNER_MOROCCO.region_state:SPA
			}
			S:STATE_INNER_MOROCCO = {
				add_claim = c:MOR
			}
		}
	}
	option = {
		# Cede Al Rif
		name = decolonization.504.a
		default_option = yes
		trigger = {
			exists = c:MOR
			c:MOR = {
				NOR = {
					is_diplomatic_play_committed_participant = yes
					is_at_war = yes
				}
			}
		}
		S:STATE_AL_RIF.region_state:SPA = {
			set_state_owner = c:MOR
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Make Al Rif Independent
		name = decolonization.504.b
		create_country = {
			tag = ALR
			origin = root
			state = S:STATE_AL_RIF.region_state:SPA
			on_created = {
				effect_post_decolonization = yes
			}
		}
		ai_chance = {
			base = 1
		}
	}
}

# Release Equitorial Guinea
decolonization.505 = {
	type = country_event
	title = decolonization.505.t
	desc = decolonization.505.desc
	flavor = decolonization.505.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:SPA ?= this
		any_scope_state = {
			OR = {
				state_region = s:STATE_GUINEA_ISLANDS
				state_region = s:STATE_GABON
			}
		}
		NOT = {
			exists = c:EQG
		}
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		OR = {
			has_global_variable = decolonization_resolutioncomplete
			AND = {
				exists = c:DLA
				c:DLA = {
					is_subject = no
				}
			}
		}
		game_date >= 1966.1.1
		NOT = {
			has_variable = decolonization_events_5
		}
	}
	cancellation_trigger = {
		NOT = {
			any_scope_state = {
				OR = {
					state_region = s:STATE_GUINEA_ISLANDS
					state_region = s:STATE_GABON
				}
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_5
		if = {
			limit = {
				exists = s:STATE_GABON.region_state:SPA
			}
			create_country = {
				tag = EQG
				origin = root
				state = S:STATE_GABON.region_state:SPA
				on_created = {
					effect_post_decolonization = yes
				}
			}
			if = {
				limit = {
					exists = s:STATE_GUINEA_ISLANDS.region_state:SPA
				}
				S:STATE_GUINEA_ISLANDS.region_state:SPA = {
					set_state_owner = c:EQG
				}
			}
		}
		else = {
			create_country = {
				tag = EQG
				origin = root
				state = S:STATE_GUINEA_ISLANDS.region_state:SPA
				on_created = {
					effect_post_decolonization = yes
				}
			}
		}
	}
	option = {
		# This was inevitable
		name = decolonization.505.a
	}
}

# Release Phillipines
decolonization.506 = {
	type = country_event
	title = decolonization.506.t
	desc = decolonization.506.desc
	flavor = decolonization.506.f
	placement = s:STATE_LUZON.region_state:PHI
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/treaty_of_manila.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:USA ?= this
		exists = c:PHI
		exists = s:STATE_LUZON.region_state:PHI
		c:PHI = {
			is_subject_of = root
			NOR = {
				is_diplomatic_play_committed_participant = yes
				is_at_war = yes
			}
		}
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		game_date >= 1946.7.1
		NOT = {
			has_variable = decolonization_events_6
		}
	}
	cancellation_trigger = {
		NOT = {
			exists = c:PHI
			c:PHI = {
				is_subject_of = root
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_6
	}
	option = {
		# Make Phillipines Independent
		name = decolonization.506.a
		default_option = yes
		c:PHI = {
			make_independent = yes
		}
		change_relations = {
			country = c:PHI
			value = 50
		}
		create_diplomatic_pact = {
			country = c:PHI
			type = defensive_pact
		}
		create_truce = {
			country = c:PHI
			months = 12
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Make Phillipines Dominion
		name = decolonization.506.b
		c:PHI = {
			change_subject_type = subject_type_dominion
		}
		change_relations = {
			country = c:PHI
			value = -25
		}
		create_incident = {
			value = 20
			country = c:PHI
		}
		create_truce = {
			country = c:PHI
			months = 36
		}
		ai_chance = {
			base = 1
		}
	}
}

# Release Japan
decolonization.507 = {
	type = country_event
	title = decolonization.507.t
	desc = decolonization.507.desc
	flavor = decolonization.507.f
	placement = s:STATE_CALIFORNIA.region_state:USA
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "/gfx/interface/event_pictures/treaty_of_san_francisco.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:USA ?= this
		exists = s:STATE_CALIFORNIA.region_state:USA
		exists = c:JAP
		c:JAP = {
			is_subject_of = root
			is_subject_type = subject_type_military_occupation
			NOR = {
				is_diplomatic_play_committed_participant = yes
				is_at_war = yes
			}
		}
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		game_date >= 1951.9.1
		NOT = {
			has_variable = decolonization_events_7
		}
	}
	cancellation_trigger = {
		NOT = {
			exists = c:JAP
			c:JAP = {
				is_subject_of = root
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_7
	}
	option = {
		# Make Japan Independent
		name = decolonization.507.a
		default_option = yes
		c:JAP = {
			make_independent = yes
		}
		change_relations = {
			country = c:JAP
			value = 50
		}
		create_diplomatic_pact = {
			country = c:JAP
			type = defensive_pact
		}
		create_truce = {
			country = c:JAP
			months = 12
		}
		s:STATE_SAKHALIN = {
			remove_claim = c:JAP
		}
		S:STATE_HOKKAIDO = {
			remove_claim = c:JAP
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		# Make Japan Dominion
		name = decolonization.507.b
		c:JAP = {
			change_subject_type = subject_type_dominion
		}
		change_relations = {
			country = c:JAP
			value = -25
		}
		create_incident = {
			value = 100
			country = c:JAP
		}
		create_truce = {
			country = c:JAP
			months = 60
		}
		ai_chance = {
			base = 0
		}
	}
}

# Release Syria
decolonization.508 = {
	type = country_event
	title = decolonization.508.t
	desc = decolonization.508.desc
	flavor = decolonization.508.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "/gfx/interface/event_pictures/franco_syrian_treaty.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:SYR ?= this
		is_subject_type = subject_type_military_occupation
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		game_date >= 1946.4.1
		NOT = {
			has_variable = decolonization_events_8
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:SYR
			c:SYR = {
				is_subject_type = subject_type_military_occupation
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_8
	}
	option = {
		# We need a king!
		name = decolonization.508.a
		default_option = yes
		trigger = {
			overlord = {
				has_law = law_type:law_hereditary
			}
		}
		make_independent = yes
		activate_law = law_type:law_hereditary
	}
	option = {
		# Form a Republic
		name = decolonization.508.b
		trigger = {
			overlord = {
				NOR = {
					has_law = law_type:law_hereditary
					has_law = law_type:law_council_elective
				}
			}
		}
		make_independent = yes
		activate_law = law_type:law_executive
	}
	option = {
		# A Worker's Council
		name = decolonization.508.c
		trigger = {
			overlord = {
				has_law = law_type:law_council_elective
			}
		}
		make_independent = yes
		activate_law = law_type:law_council_elective
	}
}

# Somaliland Confederation
decolonization.509 = {
	type = country_event
	title = decolonization.509.t
	desc = decolonization.509.desc
	flavor = decolonization.509.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:SLL ?= this
		is_subject = no
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		exists = c:SML
		c:SML = {
			is_subject = no
		}
		NOT = {
			has_variable = decolonization_events_9
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:SLL
			exists = c:SML
		}
	}
	immediate = {
		set_variable = decolonization_events_9
	}
	option = {
		# Join Somalia
		name = decolonization.509.a
		default_option = yes
		c:SML = {
			annex = c:SLL
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Keep Somaliland Independent
		name = decolonization.509.b
		ai_chance = {
			base = 1
		}
	}
}

# Djibouti Independence
decolonization.510 = {
	type = country_event
	title = decolonization.510.t
	desc = decolonization.510.desc
	flavor = decolonization.510.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	duration = 3
	trigger = {
		c:DJI ?= this
		NOT = {
			has_variable = decolonization_events_10
		}
		is_subject = no
		NOR = {
			is_diplomatic_play_committed_participant = yes
			is_at_war = yes
		}
		OR = {
			AND = {
				exists = c:ERI
				c:ERI = {
					is_subject = no
				}
			}
			AND = {
				exists = c:SLL
				c:SLL = {
					is_subject = no
				}
			}
			AND = {
				exists = c:SML
				c:SML = {
					is_subject = no
				}
			}
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:DJI
			c:DJI = {
				is_subject = no
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_10
	}
	option = {
		# Join Somalia
		name = decolonization.510.a
		default_option = yes
		trigger = {
			exists = c:SML
			c:SML = {
				is_subject = no
			}
		}
		c:SML = {
			annex = c:DJI
		}
		ai_chance = {
			base = 25
		}
	}
	option = {
		# Join Eritrea
		name = decolonization.510.b
		trigger = {
			exists = c:ERI
			c:ERI = {
				is_subject = no
			}
		}
		c:ERI = {
			annex = c:DJI
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		# Join Somaliland
		name = decolonization.510.c
		trigger = {
			exists = c:SLL
			c:SLL = {
				is_subject = no
			}
		}
		c:SLL = {
			annex = c:DJI
		}
		ai_chance = {
			base = 25
		}
	}
	option = {
		# Join Ethiopia
		name = decolonization.510.d
		trigger = {
			exists = c:ETH
			c:ETH = {
				is_subject = no
			}
		}
		c:ETH = {
			annex = c:DJI
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Keep Djibouti Independent
		name = decolonization.510.e
		ai_chance = {
			base = 25
		}
	}
}

# Fate of Somalia
decolonization.511 = {
	type = country_event
	title = decolonization.511.t
	desc = decolonization.511.desc
	flavor = decolonization.511.f
	placement = s:STATE_SOMALILAND.region_state:SML
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:SML
		exists = s:STATE_SOMALILAND.region_state:SML
		c:SML = {
			is_subject_of = root
			is_subject_type = subject_type_military_occupation
			NOR = {
				is_diplomatic_play_committed_participant = yes
				is_at_war = yes
			}
		}
		game_date >= 1949.12.1
		NOT = {
			has_variable = decolonization_events_11
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:SML
			c:SML = {
				is_subject_of = root
				is_subject_type = subject_type_military_occupation
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_11
	}
	option = {
		# Release Somalia
		name = decolonization.511.a
		c:SML = {
			make_independent = yes
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		# Transfer Somalia to Italy
		name = decolonization.511.b
		default_option = yes
		trigger = {
			exists = c:ITA
			c:ITA = {
				is_subject = no
			}
		}
		c:ITA = {
			trigger_event = {
				id = decolonization.512
			}
		}
		ai_chance = {
			base = 99
		}
	}
}

# Italy gets Somalia
decolonization.512 = {
	type = country_event
	title = decolonization.512.t
	desc = decolonization.512.desc
	flavor = decolonization.512.f
	placement = s:STATE_SOMALILAND.region_state:SML
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:SML
		exists = s:STATE_SOMALILAND.region_state:SML
		c:SML = {
			is_subject = yes
			is_subject_type = subject_type_military_occupation
		}
		NOT = {
			has_variable = decolonization_events_12
		}
	}
	cancellation_trigger = {
		NAND = {
			exists = c:SML
			c:SML = {
				is_subject = yes
				is_subject_type = subject_type_military_occupation
			}
		}
	}
	immediate = {
		set_variable = decolonization_events_12
	}
	option = {
		# Release Somalia
		name = decolonization.512.a
		c:SML = {
			make_independent = yes
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		# Make Somalia a British Protectorate
		name = decolonization.512.b
		trigger = {
			exists = c:GBR
			c:SML = {
				is_subject_of = c:GBR
			}
		}
		c:SML = {
			change_subject_type = subject_type_protectorate
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		# Make Somalia our Protectorate Under a UN trusteeship agreement
		name = decolonization.512.c
		default_option = yes
		c:SML = {
			make_independent = yes
		}
		create_diplomatic_pact = {
			country = c:SML
			type = protectorate
		}
		trigger_event = {
			id = decolonization.513
			years = 10
		}
		ai_chance = {
			base = 98
		}
	}
}

# Trusteeship Ends
decolonization.513 = {
	type = country_event
	title = decolonization.513.t
	desc = decolonization.513.desc
	flavor = decolonization.513.f
	placement = s:STATE_SOMALILAND.region_state:SML
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:SML
		exists = s:STATE_SOMALILAND.region_state:SML
		c:SML = {
			is_subject_of = root
		}
	}
	immediate = {
		c:SML = {
			make_independent = yes
		}
	}
	option = {
		# This was inevitable
		name = decolonization.513.a
	}
}

# United Arab Emirates
decolonization.514 = {
	type = country_event
	title = decolonization.514.t
	desc = decolonization.514.desc
	flavor = decolonization.514.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:ABU
		c:ABU = {
			is_subject = no
		}
		OR = {
			c:QAT ?= this
			c:BHN ?= this
		}
		is_subject = no
		NOT = {
			has_variable = decolonization_events_14
		}
	}
	immediate = {
		set_variable = decolonization_events_14
	}
	option = {
		# Join the United Arab Emirates
		name = decolonization.514.a
		if = {
			limit = {
				is_player = yes
			}
			play_as = c:ABU
		}
		c:ABU = {
			annex = root
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# The United Arab Emirates
		name = decolonization.514.b
		default_option = yes
		ai_chance = {
			base = 1
		}
	}
}

#Tanganyika and Zanzibar merge
decolonization.515 = {
	type = country_event
	title = decolonization.515.t
	desc = decolonization.515.desc
	flavor = decolonization.515.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:TNZ
		c:TNZ = {
			is_subject = no
		}
		c:ZZB ?= this
		is_subject = no
		NOT = {
			has_variable = decolonization_events_15
		}
	}
	immediate = {
		set_variable = decolonization_events_15
	}
	option = {
		# Merge with Zanzibar
		name = decolonization.515.a
		default_option = yes
		if = {
			limit = {
				is_player = yes
			}
			play_as = c:TNZ
		}
		c:TNZ = {
			annex = root
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Remain Independent
		name = decolonization.515.b
		ai_chance = {
			base = 1
		}
	}
}

# Burundi Demands Independence
decolonization.516 = {
	type = country_event
	title = decolonization.516.t
	desc = decolonization.516.desc
	flavor = decolonization.516.f
	placement = root
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:RWD ?= this
		is_subject = no
		NOT = {
			has_variable = decolonization_events_16
		}
	}
	immediate = {
		set_variable = decolonization_events_16
		create_country = {
			tag = BRD
			origin = this
			province = p:x5093DF
			province = p:x16915A
			province = p:xD8B2ED
			on_created = {
				effect_post_decolonization = yes
			}
		}
	}
	option = {
		# Refuse their demands
		name = decolonization.516.a
		trigger = {
			exists = c:BRD
			exists = s:STATE_TANGANYIKA.region_state:BRD
		}
		create_diplomatic_play = {
			type = dp_conquer_state
			target_state = s:STATE_TANGANYIKA.region_state:BRD
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Accept their demands
		name = decolonization.516.b
		default_option = yes
		ai_chance = {
			base = 50
		}
	}
}

# Return the Kurils
decolonization.517 = {
	type = country_event
	title = decolonization.517.t
	desc = decolonization.517.desc
	flavor = decolonization.517.f
	placement = s:STATE_HOKKAIDO.region_state:RUS
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:JAP
		c:JAP = {
			is_subject = no
		}
		c:RUS ?= this
		exists = s:STATE_HOKKAIDO.region_state:RUS
		is_subject = no
		c:JAP ={
			relations:root > relations_threshold:amicable
		}
		NOT = {
			has_variable = decolonization_events_17
		}
	}
	immediate = {
		set_variable = decolonization_events_17
	}
	option = {
		# Return the Kurils
		name = decolonization.517.a
		s:STATE_HOKKAIDO.region_state:RUS = {
			set_state_owner = c:JAP
		}
		ai_chance = {
			base = 80
		}
	}
	option = {
		# Keep the Kurils
		name = decolonization.517.b
		default_option = yes
		change_relations = {
			country = c:JAP
			value = -30
		}
		ai_chance = {
			base = 20
		}
	}
}

# Return the Falklands
decolonization.518 = {
	type = country_event
	title = decolonization.518.t
	desc = decolonization.518.desc
	flavor = decolonization.518.f
	placement = s:STATE_SOUTH_ATLANTIC_ISLANDS.region_state:GBR
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		exists = c:ARG
		c:ARG = {
			is_subject = no
		}
		c:GBR ?= this
		exists = s:STATE_SOUTH_ATLANTIC_ISLANDS.region_state:GBR
		is_subject = no
		c:ARG = {
			relations:root > relations_threshold:amicable
		}
		NOT = {
			has_variable = decolonization_events_18
		}
	}
	immediate = {
		set_variable = decolonization_events_18
	}
	option = {
		# Return the Falklands
		name = decolonization.518.a
		s:STATE_SOUTH_ATLANTIC_ISLANDS.region_state:GBR = {
			set_state_owner = c:ARG
		}
		ai_chance = {
			base = 10
		}
	}
	option = {
		# Keep the Falklands
		name = decolonization.518.b
		default_option = yes
		change_relations = {
			country = c:ARG
			value = -30
		}
		ai_chance = {
			base = 90
		}
	}
}

# Return the Canal Zone
decolonization.519 = {
	type = country_event
	title = decolonization.519.t
	desc = decolonization.519.desc
	flavor = decolonization.519.f
	placement = s:STATE_PANAMA.region_state:USA
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		game_date >= 1999.1.1
		c:USA ?= this
		exists = s:STATE_PANAMA.region_state:USA
		OR = {
			AND = {
				exists = c:PNM
				c:PNM = { relations:root > 0 }
				exists = s:STATE_PANAMA.region_state:PNM
				c:PNM = {
					is_subject = no
				}
			}
			AND = {
				exists = c:UCA
				c:UCA = { relations:root > 0 }
				exists = s:STATE_PANAMA.region_state:UCA
				c:UCA = {
					is_subject = no
				}
			}
		}
		any_scope_state = {
			state_region = s:STATE_PANAMA
		}
		is_subject = no
		NOT = {
			has_variable = decolonization_events_19
		}
	}
	immediate = {
		set_variable = decolonization_events_19
	}
	option = {
		# Return the Canal Zone to Panama
		name = decolonization.519.a
		default_option = yes
		trigger = {
			exists = c:PNM
			c:PNM = { relations:root > 0 }
			exists = s:STATE_PANAMA.region_state:PNM
			c:PNM = {
				is_subject = no
			}
		}
		s:STATE_PANAMA.region_state:USA = {
			set_state_owner = c:PNM
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Keep the Zone
		name = decolonization.519.b
		trigger = {
			exists = c:PNM
			c:PNM = { relations:root > 0 }
			exists = s:STATE_PANAMA.region_state:PNM
			c:PNM = {
				is_subject = no
			}
		}
		change_relations = {
			country = c:PNM
			value = -30
		}
		ai_chance = {
			base = 1
		}
	}
	option = {
		# Return the Canal Zone to Central America
		name = decolonization.519.c
		default_option = yes
		trigger = {
			exists = c:UCA
			c:UCA = { relations:root > 0 }
			exists = s:STATE_PANAMA.region_state:UCA
			c:UCA = {
				is_subject = no
			}
		}
		s:STATE_PANAMA.region_state:USA = {
			set_state_owner = c:UCA
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Keep the Zone
		name = decolonization.519.d
		trigger = {
			exists = c:UCA
			c:UCA = { relations:root > 0 }
			exists = s:STATE_PANAMA.region_state:UCA
			c:UCA = {
				is_subject = no
			}
		}
		change_relations = {
			country = c:UCA
			value = -30
		}
		ai_chance = {
			base = 1
		}
	}
}

# Give the Faroe Islands to Iceland
decolonization.520 = {
	type = country_event
	title = decolonization.520.t
	desc = decolonization.520.desc
	flavor = decolonization.520.f
	placement = s:STATE_FAROYAR.region_state:DEN
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:DEN ?= this
		exists = s:STATE_FAROYAR.region_state:DEN
		exists = c:ICL
		c:ICL = {
			is_subject = no
		}
		s:STATE_FAROYAR.region_state:DEN = {
			turmoil >= 0.5
		}
		is_subject = no
		NOT = {
			has_variable = decolonization_events_20
		}
	}
	immediate = {
		set_variable = decolonization_events_20
	}
	option = {
		# Give the Faroe Islands to Iceland
		name = decolonization.520.a
		default_option = yes
		s:STATE_FAROYAR.region_state:DEN = {
			set_state_owner = c:ICL
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Keep the Faroe Islands
		name = decolonization.520.b
		ai_chance = {
			base = 50
		}
	}
}

# Give Aland to Sweden
decolonization.521 = {
	type = country_event
	title = decolonization.521.t
	desc = decolonization.521.desc
	flavor = decolonization.521.f
	placement = s:STATE_ALAND.region_state:FIN
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:FIN ?= this
		exists = s:STATE_ALAND.region_state:FIN
		exists = c:SWE
		c:SWE = { relations:root > 20 }
		s:STATE_ALAND.region_state:FIN = {
			turmoil >= 0.5
		}
		is_subject = no
		NOT = {
			has_variable = decolonization_events_21
		}
	}
	immediate = {
		set_variable = decolonization_events_21
	}
	option = {
		# Give Aland to Sweden
		name = decolonization.521.a
		default_option = yes
		trigger = {
			exists = c:SWE
			c:SWE = { relations:root > 0 }
		}
		s:STATE_ALAND.region_state:FIN = {
			set_state_owner = c:SWE
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Keep Aland
		name = decolonization.521.b
		ai_chance = {
			base = 50
		}
	}
}

# Sale of Greenland
decolonization.522 = {
	type = country_event
	title = decolonization.522.t
	desc = decolonization.522.desc
	flavor = decolonization.522.f
	placement = s:STATE_GREENLAND.region_state:GRN
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:USA ?= this
		exists = c:GRN
		exists = c:DEN
		exists = s:STATE_GREENLAND.region_state:GRN
		c:GRN = {
			is_subject_of = c:DEN
		}
		c:DEN = { relations:root > 0 }
		AND = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = c:USA
			}
			is_target_in_global_variable_list = {
				name = nato_members
				target = c:DEN
			}
		}
		is_subject = no
		c:DEN = {
			is_subject = no
		}
		NOT = {
			has_variable = decolonization_events_22
		}
	}
	immediate = {
		set_variable = decolonization_events_22
	}
	option = {
		# Offer to buy Greenland
		name = decolonization.522.a
		default_option = yes
		default_option = yes
		c:DEN = {
			trigger_event = {
				id = decolonization.523
			}
		}
		ai_chance = {
			base = 99
		}
	}
	option = {
		# Don't make the offer
		name = decolonization.522.b
		ai_chance = {
			base = 1
		}
	}
}

# USA offers to by Greenland
decolonization.523 = {
	type = country_event
	title = decolonization.523.t
	desc = decolonization.523.desc
	flavor = decolonization.523.f
	placement = s:STATE_GREENLAND.region_state:GRN
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:DEN ?= this
		exists = c:GRN
		exists = c:USA
		exists = s:STATE_GREENLAND.region_state:GRN
		c:GRN = {
			is_subject_of = c:DEN
		}
		NOT = {
			has_variable = decolonization_events_23
		}
	}
	immediate = {
		set_variable = decolonization_events_23
	}
	option = {
		# Sell Greenland
		name = decolonization.523.a
		c:USA = {
			annex = c:GRN
			add_modifier = {
				name = greenland_purchase
				months = 60
				multiplier = -1
			}
		}
		c:DEN = {
			add_modifier = {
				name = greenland_purchase
				months = 60
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				trigger = {
					has_modifier = declared_bankruptcy
				}
				add = 95
			}
		}
	}
	option = {
		# Don't sell Greenland
		name = decolonization.523.b
		default_option = yes
		ai_chance = {
			base = 95
		}
	}
}

# French Newfoundland
decolonization.524 = {
	type = country_event
	title = decolonization.524.t
	desc = decolonization.524.desc
	flavor = decolonization.524.f
	placement = s:STATE_NEWFOUNDLAND.region_state:FRA
	icon = "gfx/interface/icons/cwp_icons/united_nations.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	duration = 3
	trigger = {
		c:FRA ?= this
		NOT = {
			exists = c:NEW
		}
		exists = c:CAN
		exists = s:STATE_NEWFOUNDLAND.region_state:FRA
		exists = s:STATE_NEWFOUNDLAND.region_state:CAN
		c:CAN = { relations:root > 0 }
		AND = {
			is_target_in_global_variable_list = {
				name = nato_members
				target = c:FRA
			}
			is_target_in_global_variable_list = {
				name = nato_members
				target = c:CAN
			}
		}
		is_subject = no
		NOT = {
			has_variable = decolonization_events_24
		}
	}
	immediate = {
		set_variable = decolonization_events_24
	}
	option = {
		# Give Canada Newfoundland
		name = decolonization.524.a
		default_option = yes
		s:STATE_NEWFOUNDLAND.region_state:FRA = {
			set_state_owner = c:CAN
		}
		change_relations = {
			country = c:CAN
			value = 50
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		# Don't give Canada Newfoundland
		name = decolonization.524.b
		ai_chance = {
			base = 50
		}
	}
}

decolonization.601 = {
	hidden = yes
	type = country_event
	trigger = {
		c:BKF ?= this
		is_subject = no
		coa_communist_trigger = yes
	}
	immediate = {
		set_variable = burkina_faso_name_change
	}
}

decolonization.602 = {
	hidden = yes
	type = country_event
	trigger = {
		c:BNI ?= this
		is_subject = no
		coa_communist_trigger = yes
	}
	immediate = {
		set_variable = benin_name_change
	}
}

decolonization.603 = {
	hidden = yes
	type = country_event
	trigger = {
		c:ESW ?= this
		is_subject = no
		game_date >= 2018.1.1
	}
	immediate = {
		set_variable = swaziland_name_change
	}
}

decolonization.666 = {
	hidden = yes
	type = country_event
	trigger = {
		is_player = no
		is_subject = no
		is_major_unifier = yes
		NOT = {
			has_variable = original_government
		}
		NOT = {
			has_journal_entry = je_decolonization
		}
		num_states > 2
	}
	immediate = {
		random_list = {
			10 = {
				modifier = {
					if = {
						limit = {
							has_law = law_type:law_ethnonationalist
						}
						add = 100
					}
					if = {
						limit = {
							has_law = law_type:law_supremacist
						}
						add = 80
					}
					if = {
						limit = {
							has_law = law_type:law_segregationist
						}
						add = 50
					}
					if = {
						limit = {
							has_law = law_type:law_integrationist
						}
						add = 10
					}
					if = {
						limit = {
							has_law = law_type:law_syncretist
						}
						add = -10
					}
					if = {
						limit = {
							has_law = law_type:law_confederated
						}
						add = 50
					}
					if = {
						limit = {
							has_law = law_type:law_federalized
						}
						add = 20
					}
					if = {
						limit = {
							has_law = law_type:law_devolved
						}
						add = 10
					}
					if = {
						limit = {
							has_law = law_type:law_autocracy
						}
						add = 30
					}
					if = {
						limit = {
							has_law = law_type:law_oligarchy
						}
						add = 20
					}
					if = {
						limit = {
							has_law = law_type:law_anocracy
						}
						add = 10
					}
					if = {
						limit = {
							OR = {
								c:YUG ?= this
								c:KUK ?= this
								c:WAU ?= this
								c:EQA ?= this
								c:EAU ?= this
								c:VNM ?= this
								c:RUS ?= this
								c:CZH ?= this
							}
						}
						add = 1000
					}
					if = {
						limit = {
							OR = {
								c:GBR ?= this
								c:SPA ?= this
								c:ITA ?= this
								c:GER ?= this
								c:RSF ?= this
							}
						}
						add = -20
					}
				}
				if = {
					limit = {
						c:RSF ?= this
					}
					effect_free_all_subjects = yes
					remove_primary_culture = cu:russian
					every_scope_state = {
						set_state_type = unincorporated
					}
					effect_decolonize_all = yes
					effect_free_all_subjects = yes
					add_primary_culture = cu:russian
				}
				else = {
					effect_free_all_subjects = yes
					effect_dissolve_nation = yes
				}
			}
			90 = {
			}
		}
	}
}

decolonization.998 = {
	# Imperial conference
	type = country_event
	title = decolonization.998.t
	desc = decolonization.998.desc
	flavor = decolonization.998.f
	trigger = {
	}
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	immediate = {
		add_modifier = {
			name = decolonization_imperial_conference
			months = 60
		}
	}
	option = {
		# Bureaucratic Concessions
		name = decolonization.998.a
		default_option = no
		trigger = {
			bureaucracy >= imperial_conference_bureaucracy_cost
		}
		add_modifier = {
			name = imperial_conference_bureaucracy
			months = 60
			multiplier = imperial_conference_bureaucracy_cost
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					NOT = {
						has_variable = special_decolonization_scenario
						is_subject_type = subject_type_military_occupation
					}
				}
				set_local_variable = {
					name = imperial_conference_bureaucracy_benefit
					value = {
						value = 0
						add = this.total_population
						divide = 500000
						add = 100
						max = 1000
					}
				}
				if = {
					limit = {
						has_local_variable = imperial_conference_bureaucracy_benefit
					}
					add_modifier = {
						name = imperial_conference_bureaucracy
						months = 60
						multiplier = local_var:imperial_conference_bureaucracy_benefit
					}
					remove_local_variable = imperial_conference_bureaucracy_benefit
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		# Authority Concessions
		name = decolonization.998.b
		default_option = no
		trigger = {
			authority >= imperial_conference_authority_cost
		}
		add_modifier = {
			name = imperial_conference_authority
			months = 60
			multiplier = imperial_conference_authority_cost
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					NOT = {
						has_variable = special_decolonization_scenario
						is_subject_type = subject_type_military_occupation
					}
				}
				set_local_variable = {
					name = imperial_conference_authority_benefit
					value = {
						value = 0
						add = this.total_population
						divide = 1000000
						add = 10
						max = 100
					}
				}
				if = {
					limit = {
						has_local_variable = imperial_conference_authority_benefit
					}
					add_modifier = {
						name = imperial_conference_authority
						months = 60
						multiplier = local_var:imperial_conference_authority_benefit
					}
					remove_local_variable = imperial_conference_authority_benefit
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		# Monetary Support
		name = decolonization.998.c
		default_option = yes
		add_modifier = {
			name = imperial_conference_monetary_support
			months = 60
			multiplier = imperial_conference_monetary_cost
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					NOT = {
						has_variable = special_decolonization_scenario
						is_subject_type = subject_type_military_occupation
					}
				}
				set_local_variable = {
					name = imperial_conference_monetary_benefit
					value = {
						value = 0
						add = this.income
						multiply = 0.2
						add = 1000
					}
				}
				if = {
					limit = {
						has_local_variable = imperial_conference_monetary_benefit
					}
					add_modifier = {
						name = imperial_conference_monetary_support
						months = 60
						multiplier = local_var:imperial_conference_monetary_benefit
					}
					remove_local_variable = imperial_conference_monetary_benefit
				}
			}
		}
		ai_chance = {
			base = 100
		}
	}
}

decolonization.999 = {
	# Abandon the colonies
	type = country_event
	title = decolonization.999.t
	desc = decolonization.999.desc
	flavor = decolonization.999.f
	event_image = {
		texture = "gfx/interface/event_pictures/decolonization_generic.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	duration = 3
	trigger = {
		has_journal_entry = je_decolonization
		NOR = {
			has_modifier = sun_setting_on_empire
		}
	}
	cancellation_trigger = {
		has_modifier = sun_setting_on_empire
	}
	option = {
		# On second thought...
		name = decolonization.999.a
		default_option = yes
		ai_chance = {
			base = 100
		}
	}
	option = {
		# Run away, run away!
		name = decolonization.999.b
		default_option = yes
		ai_chance = {
			base = 0
		}
		add_modifier = {
			name = sun_setting_on_empire
			months = very_long_modifier_time
		}
		custom_tooltip = {
			text = decolonization.999.b.tt
		}
		hidden_effect = {
			every_subject_or_below = {
				limit = {
					is_direct_subject_of = ROOT
					NOT = {
						has_variable = special_decolonization_scenario
						is_subject_type = subject_type_military_occupation
					}
				}
				if = {
					limit = {
						exists = c:FRA
						root = c:FRA
						num_states > 4
						is_subject_type = subject_type_puppet
						NOT = {
							has_journal_entry = indian_partition
						}
					}
					make_independent = yes
					effect_dissolve_nation = yes
				}
				else = {
					make_independent = yes
				}
				if = {
					limit = {
						has_diplomatic_pact = {
							who = root
							type = customs_union
						}
					}
					remove_diplomatic_pact = {
						country = root
						type = customs_union
					}
				}
			}
			effect_decolonize_all = yes
			effect_free_all_subjects = yes
		}
	}
}
