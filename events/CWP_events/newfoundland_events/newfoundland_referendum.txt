namespace = newfoundland_referendum

newfoundland_referendum.1 = { # Calling a Newfoundland National Convention
	type = country_event
	title = newfoundland_referendum.1.title
	desc = newfoundland_referendum.1.desc
	flavor = newfoundland_referendum.1.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/calling_a_newfoundland_national_convention.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		game_date >= 1946.1.1
		this = c:GBR
		NOT = { has_global_variable = newfoundland_referendum_started }
	}
	
	immediate = {
		set_global_variable = newfoundland_referendum_started
	}
	
	option = {
		name = newfoundland_referendum.1.a # Let the people of Newfoundland choose
		default_option = yes
		ai_chance = {
			base = 99
			modifier = {
				trigger = {
					OR = {
						has_global_variable = newfoundland_player
						has_global_variable = canada_player
					}
				}
				add = 1
			}				
		}
		custom_tooltip = {
			text = newfoundland_referendum.1.a.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_national_convention_start
		}
	}
	option = {
		name = newfoundland_referendum.1.b # Newfoundland remains a commission of the British Government
		ai_chance = {
			base = 1
			modifier = {
				trigger = {
					OR = {
						has_global_variable = newfoundland_player
						has_global_variable = canada_player
					}
				}
				add = -1
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.1.b.tt
		}
		hidden_effect = {
			c:NEW = {
				add_radicals = {
					value = very_large_radicals
				}
			}
			set_global_variable = newfoundland_referendum_done
		}
	}
}

newfoundland_referendum.2 = { # Where are we sending delegates? London? Ottawa? Both?
	type = country_event
	title = newfoundland_referendum.2.title
	desc = newfoundland_referendum.2.desc
	flavor = newfoundland_referendum.2.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/national_convention_newfoundland.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		game_date >= 1946.5.30
		this = c:NEW
		NOT = { has_global_variable = where_are_we_sending_delegates }
		has_global_variable = newfoundland_national_convention_start
	}
	
	immediate = {
		set_global_variable = where_are_we_sending_delegates
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.2.a # Delegation to both London & Ottawa
		ai_chance = {
			base = 60
			modifier = {
				trigger = {
					AND = {
						has_global_variable = canada_player
						has_global_variable = uk_player
					}
				}
				add = 40
			}
			modifier = {
				trigger = {
					OR = {
						AND = {
							NOT = { has_global_variable = canada_player }
							has_global_variable = uk_player
						}
						AND = {
							NOT = { has_global_variable = uk_player }
							has_global_variable = canada_player
						}
					}
				}
				add = -60
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.2.a.tt
		}
		hidden_effect = {
			set_global_variable = london_and_ottawa_delegation
		}
	}
	option = {
		name = newfoundland_referendum.2.b # Delegation to London only
		ai_chance = {
			base = 20
			modifier = {
				trigger = {
					AND = {
						NOT = { has_global_variable = canada_player }
						has_global_variable = uk_player
					}
				}
				add = 80
			}
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -20
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.2.b.tt
		}
		hidden_effect = {
			set_global_variable = london_delegation_only
		}
	}
	option = {
		name = newfoundland_referendum.2.c # Delegation to Ottawa only
		ai_chance = {
			base = 20
			modifier = {
				trigger = {
					AND = {
						NOT = { has_global_variable = uk_player }
						has_global_variable = canada_player
					}
				}
				add = 80
			}
			modifier = {
				trigger = {
					has_global_variable = uk_player
				}
				add = -20
			}

		}
		custom_tooltip = {
			text = newfoundland_referendum.2.c.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_delegation_only
		}
	}
}
	

newfoundland_referendum.3 = { # London Delegation
	type = country_event
	title = newfoundland_referendum.3.title
	desc = newfoundland_referendum.3.desc
	flavor = newfoundland_referendum.3.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/newfoundland_london_delegation.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 1
	
	trigger = {
		game_date >= 1947.4.30
		this = c:GBR
		NOR = {
			has_global_variable = london_delegation_started
			has_global_variable = london_delegation_finished
		}
		OR = {
			has_global_variable = london_and_ottawa_delegation
			has_global_variable = london_delegation_only
		}
	}
	
	immediate = {
		set_global_variable = london_delegation_started
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.3.a # Join with Canada
		ai_chance = {
			base = 33
			modifier = {
				trigger = {
					AND = {
						NOT = { has_global_variable = newfoundland_player }
						has_global_variable = canada_player
					}
				}
				add = 67
			}
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = -33
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.3.a.tt
		}
		hidden_effect = {
			set_global_variable = london_delegation_finished
			set_global_variable = london_choose_confederation
		}
	}
	option = {
		name = newfoundland_referendum.3.b # We have no preference
		ai_chance = {
			base = 34
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = 66
			}
			modifier = {
				trigger = {
					AND = {
						NOT = { has_global_variable = newfoundland_player }
						has_global_variable = canada_player
					}
				}
				add = -34
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.3.b.tt
		}
		hidden_effect = {
			set_global_variable = london_delegation_finished
			set_global_variable = london_no_preference
		}
	}
	option = {
		name = newfoundland_referendum.3.c # Become a Dominion
		ai_chance = {
			base = 33
			modifier = {
				trigger = {
					OR = {
						has_global_variable = newfoundland_player
						has_global_variable = canada_player
					}
				}
				add = -33
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.3.c.tt
		}
		hidden_effect = {
			set_global_variable = london_delegation_finished
			set_global_variable = london_choose_dominion
		}
	}
}

newfoundland_referendum.4 = { # Ottawa Delegation
	type = country_event
	title = newfoundland_referendum.4.title
	desc = newfoundland_referendum.4.desc
	flavor = newfoundland_referendum.4.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/newfoundland_ottawa_delegation.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 1
	
	trigger = {
		game_date >= 1947.4.30
		this = c:CAN
		NOR = {
			has_global_variable = ottawa_delegation_started
			has_global_variable = ottawa_delegation_finished
		}
		OR = {
			has_global_variable = london_and_ottawa_delegation
			has_global_variable = ottawa_delegation_only
		}
	}
	
	immediate = {
		set_global_variable = ottawa_delegation_started
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.4.a # Join with Canada
		ai_chance = {
			base = 60
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = -60
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.4.a.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_delegation_finished
			set_global_variable = ottawa_choose_confederation
		}
	}
	option = {
		name = newfoundland_referendum.4.b # We have no preference
		ai_chance = {
			base = 30
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = 70
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.4.b.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_delegation_finished
			set_global_variable = ottawa_no_preference
		}
	}
	option = {
		name = newfoundland_referendum.4.c # Remain a Dominion
		ai_chance = {
			base = 10
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = -10
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.4.c.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_delegation_finished
			set_global_variable = ottawa_choose_dominion
		}
	}
}

newfoundland_referendum.51 = { # Should independence be an option for Newfoundland?
	type = country_event
	title = newfoundland_referendum.51.title
	desc = newfoundland_referendum.51.desc
	flavor = newfoundland_referendum.51.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/referendum_independence_option_decision.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:GBR
		NOT = { has_global_variable = independence_decision_uk }
		game_date >= 1947.12.30
		has_global_variable = london_delegation_finished
		OR = {
			has_global_variable = london_and_ottawa_delegation
			has_global_variable = london_delegation_only
		}
	}
	
	immediate = {
		set_global_variable = independence_decision_uk
	}
		
	option = {
		default_option = yes
		name = newfoundland_referendum.51.a # Independence shouldn't be an option
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					OR = {
						has_global_variable = london_choose_dominion
						has_global_variable = london_choose_confederation
					}
					NOT = { has_global_variable = newfoundland_player }
				}
				add = 50
			}
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = -50
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.51.a.tt
		}
		hidden_effect = {
			set_global_variable = london_no_newfoundland_independence
		}
	}
	option = {
		name = newfoundland_referendum.51.b # Independence should be an option
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					OR = {
						has_global_variable = london_choose_dominion
						has_global_variable = london_choose_confederation
					}
					NOT = { has_global_variable = newfoundland_player }
				}
				add = -50
			}
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = 50
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.51.b.tt
		}
		hidden_effect = {
			set_global_variable = london_yes_newfoundland_independence
		}
	}
}

newfoundland_referendum.52 = { # Should independence be an option for Newfoundland? Canada event
	type = country_event
	title = newfoundland_referendum.52.title
	desc = newfoundland_referendum.52.desc
	flavor = newfoundland_referendum.52.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/referendum_independence_option_decision.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:CAN
		NOT = { has_global_variable = independence_decision_canada }
		game_date >= 1947.12.30
		has_global_variable = ottawa_delegation_finished
		OR = {
			has_global_variable = london_and_ottawa_delegation
			has_global_variable = ottawa_delegation_only
		}
	}
	
	immediate = {
		set_global_variable = independence_decision_canada
	}
		
	option = {
		default_option = yes
		name = newfoundland_referendum.52.a # Independence shouldn't be an option
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					OR = {
						has_global_variable = ottawa_choose_dominion
						has_global_variable = ottawa_choose_confederation
					}
					NOT = { has_global_variable = newfoundland_player }
				}
				add = 50
			}
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = -50
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.52.a.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_no_newfoundland_independence
		}
	}
	option = {
		name = newfoundland_referendum.52.b # Independence should be an option
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					OR = {
						has_global_variable = ottawa_choose_dominion
						has_global_variable = ottawa_choose_confederation
					}
					NOT = { has_global_variable = newfoundland_player }
				}
				add = -50
			}
			modifier = {
				trigger = {
					has_global_variable = newfoundland_player
				}
				add = 50
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.52.b.tt
		}
		hidden_effect = {
			set_global_variable = ottawa_yes_newfoundland_independence
		}
	}
}

newfoundland_referendum.6 = { # First Referendum - Independence possible
	type = country_event
	title = newfoundland_referendum.6.title
	desc = newfoundland_referendum.6.desc
	flavor = newfoundland_referendum.6.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/newfoundland_referendum_voting_card.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 1
	
	trigger = {
		this = c:NEW
		game_date >= 1948.5.30
		has_global_variable = newfoundland_first_referendum_yes_independence
		NOT = { has_global_variable = newfoundland_first_referendum_started }
	}
	
	immediate = {
		set_global_variable = newfoundland_first_referendum_started
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.6.a # Become a British Dominion
		ai_chance = {
			base = 40
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -40
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = 28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = 14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = -28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = -14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = 8
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.6.a.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_first_referendum_failed
		}
	}
	option = {
		name = newfoundland_referendum.6.b # Confederate with Canada
		ai_chance = {
			base = 35
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = 65
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = -28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = -14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = 28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = 14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = 8
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.6.b.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_first_referendum_failed
		}
	}
	option = {
		name = newfoundland_referendum.6.c # Remain a puppet
		ai_chance = {
			base = 15
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -15
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = -10
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.6.c.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_puppet
		}
	}
	option = {
		name = newfoundland_referendum.6.d # Independence
		ai_chance = {
			base = 10
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -10
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = -6
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.6.d.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_independent
		}
	}
}

newfoundland_referendum.7 = { # First Referendum - Independence not possible
	type = country_event
	title = newfoundland_referendum.7.title
	desc = newfoundland_referendum.7.desc
	flavor = newfoundland_referendum.7.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/newfoundland_referendum_voting_card.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 1
	
	trigger = {
		this = c:NEW
		game_date >= 1948.5.30
		has_global_variable = newfoundland_first_referendum_no_independence
		NOT = { has_global_variable = newfoundland_first_referendum_started }
	}
	
	immediate = {
		set_global_variable = newfoundland_first_referendum_started
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.7.a # Become a British Dominion
		ai_chance = {
			base = 44
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -44
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = 28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = 14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = -28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = -14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = 5
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.7.a.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_first_referendum_failed
		}
	}
	option = {
		name = newfoundland_referendum.7.b # Confederate with Canada
		ai_chance = {
			base = 41
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = 59
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = -28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = -14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = 28
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = 14
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = 5
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.7.b.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_first_referendum_failed
		}
	}
	option = {
		name = newfoundland_referendum.7.c # Remain a puppet
		ai_chance = {
			base = 15
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -15
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						has_global_variable = ottawa_choose_confederation
						has_global_variable = ottawa_choose_dominion
					}
					OR = {
						has_global_variable = london_choose_confederation
						has_global_variable = london_choose_dominion
					}
				}
				add = -10
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.7.c.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_puppet
		}
	}
}

newfoundland_referendum.8 = { # Second Referendum - Confederate with Canada or British Dominion
	type = country_event
	title = newfoundland_referendum.8.title
	desc = newfoundland_referendum.8.desc
	flavor = newfoundland_referendum.8.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/dont_sell.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 1
	
	trigger = {
		this = c:NEW
		game_date >= 1948.6.30
		has_global_variable = newfoundland_first_referendum_failed
		NOT = {	has_global_variable = newfoundland_second_referendum_started }
	}
	
	immediate = {
		set_global_variable = newfoundland_second_referendum_started
	}
	
	option = {
		default_option = yes
		name = newfoundland_referendum.8.a # Become a British Dominion
		ai_chance = {
			base = 48
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = -48
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = 36
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = 18
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = -36
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = -18
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.8.a.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_dominion
		}
	}
	option = {
		name = newfoundland_referendum.8.b # Confederate with Canada
		ai_chance = {
			base = 52
			modifier = {
				trigger = {
					has_global_variable = canada_player
				}
				add = 48
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_dominion
					has_global_variable = london_choose_dominion
				}
				add = -36
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_dominion
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_dominion
							has_global_variable = london_no_preference
						}
					}
				}
				add = -18
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					has_global_variable = ottawa_choose_confederation
					has_global_variable = london_choose_confederation
				}
				add = 36
			}
			modifier = {
				trigger = {
					NOT = { has_global_variable = canada_player }
					OR = {
						AND = {
							has_global_variable = london_choose_confederation
							has_global_variable = ottawa_no_preference
						}
						AND = {
							has_global_variable = ottawa_choose_confederation
							has_global_variable = london_no_preference
						}
					}
				}
				add = 18
			}
		}
		custom_tooltip = {
			text = newfoundland_referendum.8.b.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_confederate
		}
	}
}

newfoundland_referendum.9 = { # British Dominion - Newfoundland POV
	type = country_event
	title = newfoundland_referendum.9.title
	desc = newfoundland_referendum.9.desc
	flavor = newfoundland_referendum.9.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/dominion_of_newfoundland.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:NEW
		game_date >= 1948.7.30
		has_global_variable = newfoundland_dominion
		NOT = { has_global_variable = newfoundland_referendum_done }
	}
	
	option = {
		name = newfoundland_referendum.9.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.9.a.tt
		}
		change_subject_type = subject_type_dominion
		hidden_effect = {
			set_global_variable = newfoundland_referendum_done
		}
	}
}

newfoundland_referendum.10 = { # Confederate with Canada - Canada POV
	type = country_event
	title = newfoundland_referendum.10.title
	desc = newfoundland_referendum.10.desc
	flavor = newfoundland_referendum.10.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_canada.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:NEW
		game_date >= 1948.7.30
		has_global_variable = newfoundland_confederate
		NOT = { has_global_variable = newfoundland_referendum_done }
	}
	
	option = {
		name = newfoundland_referendum.10.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.10.a.tt
		}
		c:CAN = {
			annex = c:NEW
		}
		hidden_effect = {
			set_global_variable = newfoundland_referendum_done
		}
	}
}

newfoundland_referendum.11 = { # puppet
	type = country_event
	title = newfoundland_referendum.11.title
	desc = newfoundland_referendum.11.desc
	flavor = newfoundland_referendum.11.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_the_united_kingdom.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:NEW
		game_date >= 1948.7.30
		has_global_variable = newfoundland_puppet
		NOT = { has_global_variable = newfoundland_referendum_done }
	}
	
	option = {
		name = newfoundland_referendum.11.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.11.a.tt
		}
		hidden_effect = {
			set_global_variable = newfoundland_referendum_done
		}
	}
}

newfoundland_referendum.12 = { # Independence
	type = country_event
	title = newfoundland_referendum.12.title
	desc = newfoundland_referendum.12.desc
	flavor = newfoundland_referendum.12.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_newfoundland_and_labrador.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:NEW
		game_date >= 1948.7.30
		has_global_variable = newfoundland_independent
		NOT = { has_global_variable = newfoundland_referendum_done }
	}
	
	option = {
		name = newfoundland_referendum.12.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.12.a.tt
		}
		make_independent = yes
		hidden_effect = {
			set_global_variable = newfoundland_referendum_done
		}
	}
}

newfoundland_referendum.13 = { # British Dominion - Canadian POV
	type = country_event
	title = newfoundland_referendum.13.title
	desc = newfoundland_referendum.13.desc
	flavor = newfoundland_referendum.13.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/dominion_of_newfoundland.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:CAN
		has_global_variable = newfoundland_dominion
	}
	
	option = {
		name = newfoundland_referendum.13.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.13.a.tt
		}
	}
}
	
newfoundland_referendum.14 = { # British Dominion - British POV
	type = country_event
	title = newfoundland_referendum.14.title
	desc = newfoundland_referendum.14.desc
	flavor = newfoundland_referendum.14.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/dominion_of_newfoundland.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:GBR
		has_global_variable = newfoundland_dominion
	}
	
	option = {
		name = newfoundland_referendum.14.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.14.a.tt
		}
	}
}
	
newfoundland_referendum.15 = { # Confederate with Canada - British POV
	type = country_event
	title = newfoundland_referendum.15.title
	desc = newfoundland_referendum.15.desc
	flavor = newfoundland_referendum.15.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_canada.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:GBR
		has_global_variable = newfoundland_confederate
	}
	
	option = {
		name = newfoundland_referendum.15.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.15.a.tt
		}
	}
}
	
newfoundland_referendum.16 = { # Confederate with Canada - Canadian POV
	type = country_event
	title = newfoundland_referendum.16.title
	desc = newfoundland_referendum.16.desc
	flavor = newfoundland_referendum.16.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_canada.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:CAN
		has_global_variable = newfoundland_confederate
	}
	
	option = {
		name = newfoundland_referendum.16.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.16.a.tt
		}
	}
}
	
newfoundland_referendum.17 = { # Remain a British puppet - British POV
	type = country_event
	title = newfoundland_referendum.17.title
	desc = newfoundland_referendum.17.desc
	flavor = newfoundland_referendum.17.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_the_united_kingdom.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:GBR
		has_global_variable = newfoundland_puppet
	}
	
	option = {
		name = newfoundland_referendum.17.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.17.a.tt
		}
	}
}
	
newfoundland_referendum.18 = { # Remain a British puppet - Canadian POV
	type = country_event
	title = newfoundland_referendum.18.title
	desc = newfoundland_referendum.18.desc
	flavor = newfoundland_referendum.18.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_the_united_kingdom.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:CAN
		has_global_variable = newfoundland_puppet
	}
	
	option = {
		name = newfoundland_referendum.18.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.18.a.tt
		}
	}
}
	
newfoundland_referendum.19 = { # Newfoundland Independence - British POV
	type = country_event
	title = newfoundland_referendum.19.title
	desc = newfoundland_referendum.19.desc
	flavor = newfoundland_referendum.19.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_newfoundland_and_labrador.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:GBR
		has_global_variable = newfoundland_independent
	}
	
	option = {
		name = newfoundland_referendum.19.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.19.a.tt
		}
	}
}
	
newfoundland_referendum.20 = { # Newfoundland Independence - Canadian POV
	type = country_event
	title = newfoundland_referendum.20.title
	desc = newfoundland_referendum.20.desc
	flavor = newfoundland_referendum.20.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/flag_of_newfoundland_and_labrador.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:CAN
		has_global_variable = newfoundland_independent
	}
	
	option = {
		name = newfoundland_referendum.20.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		custom_tooltip = {
			text = newfoundland_referendum.20.a.tt
		}
	}
}

newfoundland_referendum.21 = { # Does the USA send a join market offer to an independent Newfoundland?
	type = country_event
	title = newfoundland_referendum.21.title
	desc = newfoundland_referendum.21.desc
	flavor = newfoundland_referendum.21.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/harry_truman_desk.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 3
	
	trigger = {
		this = c:USA
		has_global_variable = newfoundland_referendum_done
		c:NEW = {
			is_subject = no
			is_in_customs_union = no
		}
	}
	
	option = {
		name = newfoundland_referendum.21.a
		default_option = yes
		ai_chance = {
			base = 95
		}
		custom_tooltip = {
			text = newfoundland_referendum.21.a.tt
		}
		hidden_effect = {
			set_global_variable = usa_sends_market_access_offer
			c:NEW = {
				trigger_event = {
					id = newfoundland_referendum.22 # Choice for Newfoundland to join the US's market
					days = 120
				}
			}
		}
	}
	option = {
		name = newfoundland_referendum.21.b
		default_option = yes
		ai_chance = {
			base = 5
		}
		custom_tooltip = {
			text = newfoundland_referendum.21.b.tt
		}
	}
}

newfoundland_referendum.22 = { # Does Newfoundland join the USA's market?
	type = country_event
	title = newfoundland_referendum.22.title
	desc = newfoundland_referendum.22.desc
	flavor = newfoundland_referendum.22.flavor
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	event_image = {
		texture = "gfx/interface/event_pictures/newfoundland_referendum/economic_union_party_membership_card.dds"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/courtroom_upheaval"
	
	duration = 2
	
	trigger = {
		this = c:NEW
		has_global_variable = newfoundland_referendum_done
		has_global_variable = usa_sends_market_access_offer
		is_subject = no
		is_in_customs_union = no
	}
	
	option = {
		name = newfoundland_referendum.22.a
		default_option = yes
		ai_chance = {
			base = 95
		}
		custom_tooltip = {
			text = newfoundland_referendum.22.a.tt
		}
		c:USA = {
			create_diplomatic_pact = {
				country = c:NEW
				type = customs_union
			}
		}
	}
	option = {
		name = newfoundland_referendum.22.b
		default_option = yes
		ai_chance = {
			base = 5
		}
		custom_tooltip = {
			text = newfoundland_referendum.22.b.tt
		}
		hidden_effect = {
			remove_global_variable = usa_sends_market_access_offer
		}
	}
}

newfoundland_referendum.997 = { # Cleaning up
	type = country_event
	hidden = yes
	trigger = {
		has_global_variable = newfoundland_referendum_done
	}
	
	immediate = {
		if = {
			limit = {
				has_global_variable = uk_player
			}
			remove_global_variable = uk_player
		}
		if = {
			limit = {
				has_global_variable = newfoundland_player
			}
			remove_global_variable = newfoundland_player
		}
		if = {
			limit = {
				has_global_variable = canada_player
			}
			remove_global_variable = canada_player
		}
		if = {
			limit = {
				has_global_variable = where_are_we_sending_delegates
			}
			remove_global_variable = where_are_we_sending_delegates
		}
		if = {
			limit = {
				has_global_variable = newfoundland_national_convention_start
			}
			remove_global_variable = newfoundland_national_convention_start
		}
		if = {
			limit = {
				has_global_variable = london_delegation_started
			}
			remove_global_variable = london_delegation_started
		}
		if = {
			limit = {
				has_global_variable = ottawa_delegation_started
			}
			remove_global_variable = ottawa_delegation_started
		}
		if = {
			limit = {
				has_global_variable = london_and_ottawa_delegation
			}
			remove_global_variable = london_and_ottawa_delegation
		}
		if = {
			limit = {
				has_global_variable = london_delegation_only
			}
			remove_global_variable = london_delegation_only
		}
		if = {
			limit = {
				has_global_variable = ottawa_delegation_only
			}
			remove_global_variable = ottawa_delegation_only
		}
		if = {
			limit = {
				has_global_variable = london_delegation_finished
			}
			remove_global_variable = london_delegation_finished
		}
		if = {
			limit = {
				has_global_variable = london_choose_confederation
			}
			remove_global_variable = london_choose_confederation
		}
		if = {
			limit = {
				has_global_variable = london_no_preference
			}
			remove_global_variable = london_no_preference
		}
		if = {
			limit = {
				has_global_variable = london_choose_dominion
			}
			remove_global_variable = london_choose_dominion
		}
		if = {
			limit = {
				has_global_variable = ottawa_delegation_finished
			}
			remove_global_variable = ottawa_delegation_finished
		}
		if = {
			limit = {
				has_global_variable = ottawa_choose_confederation
			}
			remove_global_variable = ottawa_choose_confederation
		}
		if = {
			limit = {
				has_global_variable = ottawa_no_preference
			}
			remove_global_variable = ottawa_no_preference
		}
		if = {
			limit = {
				has_global_variable = ottawa_choose_dominion
			}
			remove_global_variable = ottawa_choose_dominion
		}
		if = {
			limit = {
				has_global_variable = independence_decision_canada
			}
			remove_global_variable = independence_decision_canada
		}
		if = {
			limit = {
				has_global_variable = independence_decision_uk
			}
			remove_global_variable = independence_decision_uk
		}
		if = {
			limit = {
				has_global_variable = london_no_newfoundland_independence
			}
			remove_global_variable = london_no_newfoundland_independence
		}
		if = {
			limit = {
				has_global_variable = london_yes_newfoundland_independence
			}
			remove_global_variable = london_yes_newfoundland_independence
		}
		if = {
			limit = {
				has_global_variable = ottawa_no_newfoundland_independence
			}
			remove_global_variable = ottawa_no_newfoundland_independence
		}
		if = {
			limit = {
				has_global_variable = ottawa_yes_newfoundland_independence
			}
			remove_global_variable = ottawa_yes_newfoundland_independence
		}
		if = {
			limit = {
				has_global_variable = newfoundland_first_referendum_started
			}
			remove_global_variable = newfoundland_first_referendum_started
		}
		if = {
			limit = {
				has_global_variable = newfoundland_first_referendum_failed
			}
			remove_global_variable = newfoundland_first_referendum_failed
		}
		if = {
			limit = {
				has_global_variable = newfoundland_puppet
			}
			remove_global_variable = newfoundland_puppet
		}
		if = {
			limit = {
				has_global_variable = newfoundland_independent
			}
			remove_global_variable = newfoundland_independent
		}
		if = {
			limit = {
				has_global_variable = newfoundland_second_referendum_started
			}
			remove_global_variable = newfoundland_second_referendum_started
		}
		if = {
			limit = {
				has_global_variable = newfoundland_dominion
			}
			remove_global_variable = newfoundland_dominion
		}
		if = {
			limit = {
				has_global_variable = newfoundland_confederate
			}
			remove_global_variable = newfoundland_confederate
		}
		if = {
			limit = {
				has_global_variable = newfoundland_first_referendum_yes_independence
			}
			remove_global_variable = newfoundland_first_referendum_yes_independence
		}
		if = {
			limit = {
				has_global_variable = newfoundland_first_referendum_no_independence
			}
			remove_global_variable = newfoundland_first_referendum_no_independence
		}
		if = {
			limit = {
				has_global_variable = newfoundland_referendum_started
			}
			remove_global_variable = newfoundland_referendum_started
		}
	}
}

newfoundland_referendum.998 = { # Determining whether the first referendum will have an independence option
	type = country_event
	hidden = yes
	trigger = {
		OR = {
			has_global_variable = london_no_newfoundland_independence
			has_global_variable = london_yes_newfoundland_independence
		}
		OR = {
			has_global_variable = ottawa_no_newfoundland_independence
			has_global_variable = ottawa_yes_newfoundland_independence
		}
		NOT = { has_global_variable = newfoundland_first_referendum_started }
	}
	immediate = {
		if = {
			limit = {
				AND = {
					has_global_variable = ottawa_no_newfoundland_independence
					has_global_variable = london_no_newfoundland_independence
					NOT = { has_global_variable = newfoundland_player }
				}
			}
			set_global_variable = newfoundland_first_referendum_no_independence
		}
		if = {
			limit = {
				OR = {
					AND = {
						has_global_variable = ottawa_no_newfoundland_independence
						has_global_variable = london_yes_newfoundland_independence
					}
					AND = {
						has_global_variable = ottawa_yes_newfoundland_independence
						has_global_variable = london_no_newfoundland_independence
					}
				}
				NOT = { has_global_variable = newfoundland_player }
			}
			random_list = {
				50 = {
					set_global_variable = newfoundland_first_referendum_no_independence
				}
				50 = {
					set_global_variable = newfoundland_first_referendum_yes_independence
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						has_global_variable = ottawa_yes_newfoundland_independence
						has_global_variable = london_yes_newfoundland_independence
					}
					has_global_variable = newfoundland_player
				}
			}
			set_global_variable = newfoundland_first_referendum_yes_independence
		}
	}
}

newfoundland_referendum.999 = { # Sets up who the players are
	type = country_event
	hidden = yes
	immediate = {
		if = {
			limit = {
				AND = {
					exists = c:NEW
					c:NEW = {
						is_player = yes
					}
				}
			}
			set_global_variable = newfoundland_player
		}
		if = {
			limit = {
				AND = {
					exists = c:CAN
					c:CAN = {
						is_player = yes
					}
				}
			}
			set_global_variable = canada_player
		}
		if = {
			limit = {
				AND = {
					exists = c:GBR
					c:GBR = {
						is_player = yes
					}
				}
			}
			set_global_variable = uk_player
		}
	}
}