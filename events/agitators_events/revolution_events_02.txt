namespace = revolution_pulse_events

revolution_pulse_events.1 = {
	type = country_event
	placement = scope:self_defense_threat_state

	duration = 3

	title = revolution_pulse_events.1.t
	desc = revolution_pulse_events.1.d
	flavor = revolution_pulse_events.1.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		reactionary_revolution_ongoing = yes
		any_interest_group = {
			is_insurrectionary = yes
			OR = {
				law_stance = {
					law = law_type:law_supremacist
					value >= neutral
				}
				leader = {
					has_fascist_ideology = yes
				}
			}
			is_marginal = no
		}
		any_scope_state = {
			is_incorporated = yes
			any_scope_culture = {
				has_homeland = prev
				culture_is_discriminated_in = root
			}
		}
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOT = { reactionary_revolution_ongoing = yes }
	}

	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				is_insurrectionary = yes
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value > neutral
					}
					leader = {
						has_fascist_ideology = yes
					}
				}
			}
			save_scope_as = self_defense_threat_ig
		}
		random_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_culture = {
					has_homeland = prev
					culture_is_discriminated_in = root
				}
			}
			save_scope_as = self_defense_threat_state
			random_scope_culture = {
				limit = {
					has_homeland = prev
					culture_is_discriminated_in = root
				}
				save_scope_as = self_defense_threat_culture
			}
		}	
	}
	
	option = {
		name = revolution_pulse_events.1.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_minority_self_defense_radicalism
				months = normal_modifier_time
			}
		}
		every_interest_group = {
			limit = {
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value > neutral
					}
					leader = {
						has_fascist_ideology = yes
					}
				}
			}
			add_modifier = {
				name = modifier_minority_self_defense_tolerated
				months = normal_modifier_time 
			}
		}
		add_modifier = {
			name = modifier_subversion_of_monopoly_on_violence
			months = normal_modifier_time 
		}
	}

	option = {
		name = revolution_pulse_events.1.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:self_defense_threat_state = {
			add_culture_standard_of_living_modifier = {
				culture = scope:self_defense_threat_culture
				months = normal_modifier_time
				multiplier = -2
			}
			every_neighbouring_state = {
				limit = {
					scope:self_defense_threat_culture = {
						has_homeland = prev
					}
					owner = root
					NOT = {
						this = scope:self_defense_threat_state
					}
				}
				add_culture_standard_of_living_modifier = {
					culture = scope:self_defense_threat_culture
					months = normal_modifier_time
					multiplier = -2
				}
			}
		}
	}
}

revolution_pulse_events.2 = {
	type = country_event
	placement = scope:blatant_fedposting_state

	duration = 3

	title = revolution_pulse_events.2.t
	desc = revolution_pulse_events.2.d
	flavor = revolution_pulse_events.2.f

	category = revolution

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		any_scope_state = {
			turmoil >= 0.25
			is_incorporated = yes
		}
		any_scope_character = {
			has_role = agitator
			this.political_movement ?= {
				is_revolutionary_movement = yes
			}
			this.interest_group ?= {
				is_insurrectionary = yes
			}
		}
		revolution_progress_low = yes
	}

	cancellation_trigger = {
		OR = {
			NOT = { any_revolution_ongoing = yes }
			NOT = { exists = scope:fedposting_agitator }
		}
		
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_character = {
			limit = {
				has_role = agitator
				this.political_movement ?= {
					is_revolutionary_movement = yes
				}
				this.interest_group ?= {
					is_insurrectionary = yes
				}
			}
			save_scope_as = fedposting_agitator
			this.interest_group = {
				save_scope_as = blatant_fedposting_ig
			}
		}
		random_scope_state = {
			limit = {
				turmoil >= 0.25
				is_incorporated = yes
			}
			save_scope_as = blatant_fedposting_state
		}
	}
	
	option = {
		name = revolution_pulse_events.2.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_movement_tarred
				months = normal_modifier_time
			}
		}
		scope:blatant_fedposting_ig = {
			add_modifier = {
				name = modifier_tarred_with_terrorist_brush
				months = normal_modifier_time
			}
		}
		scope:blatant_fedposting_state = { #Something got blown up.
			state_region = {
				add_devastation = 3
			}
		}
	}

	option = {
		name = revolution_pulse_events.2.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_terrorist_smears
				months = normal_modifier_time
			}
		}
		scope:fedposting_agitator = {
			add_modifier = {
				name = modifier_terrorist_smears
				months = normal_modifier_time
			}
		}
		scope:blatant_fedposting_state = {
			state_region = {
				add_devastation = 3
			}
		}
	}
}

revolution_pulse_events.3 = {
	type = country_event
	placement = scope:dual_power_state

	duration = 3

	title = revolution_pulse_events.3.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = revolution_pulse_events.3.d
				trigger = {
					any_interest_group = {
						is_insurrectionary = yes
						is_marginal = no
						ig_is_socialist = yes
						NOT = {
							any_scope_character = {
								has_role = agitator
							}
						}
					}
				}
			}
			triggered_desc = {
				desc = revolution_pulse_events.3.d2
				trigger = {
					any_interest_group = {
						is_insurrectionary = yes
						is_marginal = no
						ig_is_socialist = yes
						any_scope_character = {
							has_role = agitator
						}
					}
				}
			}
		}
	}
	flavor = revolution_pulse_events.3.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		any_interest_group = {
			is_insurrectionary = yes
			is_marginal = no
			ig_is_socialist = yes
		}
		any_scope_state = {
			NOT = {
				is_capital = yes
			}
			turmoil >= 0.50
			is_incorporated = yes
		}
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		if = {
			limit = {
				any_interest_group = {
					is_insurrectionary = yes
					is_marginal = no
					ig_is_socialist = yes
					any_scope_character = {
						has_role = agitator
					}
				}
			}
			random_interest_group = {
				limit = {
					is_insurrectionary = yes
					is_marginal = no
					ig_is_socialist = yes
					any_scope_character = {
						has_role = agitator
					}
				}
				save_scope_as = dual_power_ig
				random_scope_character = {
					limit = {
						has_role = agitator
					}
					save_scope_as = dual_power_agitator
				}
			}
		}
		else = {
			random_interest_group = {
				limit = {
					is_insurrectionary = yes
					is_marginal = no
					ig_is_socialist = yes
				}
				save_scope_as = dual_power_ig
			}
		}
		random_scope_state = {
			limit = {
				NOT = {
					is_capital = yes
				}
				turmoil > 0.50
				is_incorporated = yes
			}
			save_scope_as = dual_power_state
		}
		ig:ig_securocrats = {
			save_scope_as = armed_forces_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.3.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		add_modifier = {
			name = modifier_repressing_dual_power
			months = normal_modifier_time
		}
		scope:dual_power_state = {
			add_radicals_in_state = {
				value = medium_radicals
			}
		}
	}

	option = {
		name = revolution_pulse_events.3.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:dual_power_state = {
			add_modifier = {
				name = modifier_dual_power_state
				months = normal_modifier_time
			}
		}
		add_modifier = {
			name = modifier_dual_power_country
			months = normal_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.3.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		trigger = {
			scope:armed_forces_ig = {
				NOR = {
					is_insurrectionary = yes
					is_marginal = yes
				}
			}
		}
		scope:dual_power_state = {
			add_modifier = {
				name = modifier_dual_power_state_occupied
				months = normal_modifier_time
			}
			add_radicals_in_state = {
				value = small_radicals
			}
		}
		scope:armed_forces_ig = {
			add_modifier = {
				name = modifier_given_occupation_duties
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.4 = {
	type = country_event
	placement = scope:soldiers_council_state

	duration = 3

	title = revolution_pulse_events.4.t
	desc = revolution_pulse_events.4.d
	flavor = revolution_pulse_events.4.f

	category = revolution

	event_image = {
		video = "middleeast_battlefield_trenches"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		ig:ig_securocrats = {
			is_marginal = no
		}
		military_wage_level < medium
		any_scope_state = {			
			any_scope_building = {
				is_building_type = building_barracks
			}
			is_incorporated = yes	
		}
		revolution_progress_low = yes
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_securocrats = {
			save_scope_as = armed_forces_ig
		}
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_barracks
				}
				is_incorporated = yes				
			}
			save_scope_as = soldiers_council_state
			random_scope_building = {
				limit = {
					is_building_type = building_barracks	
				}
				save_scope_as = soldiers_council_building
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.4.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:soldiers_council_state = {
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = servicemembers
			}
			scope:soldiers_council_building = {
				add_modifier = {
					name = modifier_soldiers_council_replaced
					months = short_modifier_time
				}
			}
		}
	}

	option = {
		name = revolution_pulse_events.4.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		if = {
			limit = {
				scope:armed_forces_ig = {
					is_insurrectionary = no
				}
			}
			scope:armed_forces_ig = {
				add_modifier = {
					name = modifier_soldiers_council_ig
					months = normal_modifier_time
				}
			}
		}	
	}
}

revolution_pulse_events.5 = {
	type = country_event
	placement = scope:self_organization_state

	duration = 3

	title = revolution_pulse_events.5.t
	desc = revolution_pulse_events.5.d
	flavor = revolution_pulse_events.5.f

	category = revolution

	event_image = {
		video = "asia_union_leader"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		ig:ig_ruralists = {
			is_marginal = no
			OR = {
				is_being_suppressed = yes
				ig_approval <= 0
			}
		}
		ig:ig_elites = {
			is_marginal = no
			is_insurrectionary = no
		}
		revolution_progress_high = yes
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_ruralists = {
			save_scope_as = rural_folk_ig
		}
		ig:ig_elites = {
			save_scope_as = landowners_ig
		}
		random_scope_state = {
			limit = {
				is_incorporated = yes
				NOT = {
					is_capital = yes
				}
			}
			save_scope_as = self_organization_state
		}
	}
	
	option = {
		name = revolution_pulse_events.5.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:self_organization_state = {
			add_radicals_in_state = {
				value = medium_radicals
				strata = poor
			}
		}
		scope:landowners_ig = {
			add_modifier = {
				name = modifier_intervened_against_peasant_councils
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.5.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:self_organization_state = {
			add_radicals_in_state = {
				value = small_radicals
				strata = rich
			}
		}
		scope:landowners_ig = {
			add_modifier = {
				name = modifier_tolerated_peasant_councils
				months = normal_modifier_time
			}
		}
	}
}

# TO DO: Re-enable this by hooking it up into formation compostion rather than old PMs
# revolution_pulse_events.6 = {
# 	type = country_event
# 	placement = scope:potemkin_state

# 	duration = 3

# 	title = revolution_pulse_events.6.t
# 	desc = revolution_pulse_events.6.d
# 	flavor = revolution_pulse_events.6.f

# 	category = revolution

# 	event_image = {
# 		video = "votp_garibaldi"
# 	}

# 	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

# 	icon = "gfx/interface/icons/event_icons/event_industry.dds"

# 	cooldown = { months = long_modifier_time }

# 	trigger = {
# 		any_revolution_ongoing = yes
# 		ig:ig_securocrats = {
# 			is_marginal = no
# 		}
# 		military_wage_level < medium
# 		any_scope_state = {
# 			is_incorporated = yes
# 			any_scope_building = {
# 				is_building_type = building_naval_base	
# 				OR = {
# 					has_active_production_method = pm_dreadnoughts
# 					has_active_production_method = pm_battleships
# 				}
# 			}
# 		}
# 		any_neighbouring_state = {
# 			is_coastal = yes
# 			NOT = {
# 				owner = root
# 			}
# 		}
# 		revolution_progress_high = yes
# 	}

# 	cancellation_trigger = {
# 		NOT = { any_revolution_ongoing = yes }
# 	}
	
# 	immediate = {
# 		save_revolution_scopes = yes
# 		random_scope_state = {
# 			limit = {
# 			is_incorporated = yes
# 				any_scope_building = {
# 					is_building_type = building_naval_base	
# 					OR = {
# 						has_active_production_method = pm_dreadnoughts
# 						has_active_production_method = pm_battleships
# 					}
# 				}				
# 			}
# 			save_scope_as = potemkin_state
# 			set_variable = potemkin_destination_state
# 			random_scope_building = {
# 				limit = {
# 					is_building_type = building_naval_base	
# 					OR = {
# 						has_active_production_method = pm_dreadnoughts
# 						has_active_production_method = pm_battleships
# 					}
# 				}
# 				save_scope_as = potemkin_naval_base
# 			}
# 		}
# 		random_scope_state = {
# 			save_scope_as = ship_name_state
# 		} 
# 		voyage_of_potemkin = yes
# 	}
	
# 	option = {
# 		name = revolution_pulse_events.6.a 
# 		default_option = yes
# 		scope:ongoing_revolution_movement = {
# 			add_modifier = { 
# 				name = modifier_movement_dreadnought_recovered
# 				months = normal_modifier_time
# 			}
# 		}
# 		random_scope_admiral = {
# 			limit = {
# 				any_combat_units = {
# 					building = scope:potemkin_naval_base
# 				}
# 			}
# 			add_modifier = {
# 				name = public_shame_modifier
# 				months = long_modifier_time
# 			}
# 		}
# 		scope:potemkin_state = {
# 			scope:potemkin_naval_base = {
# 				add_modifier = {
# 					name = modifier_dreadnought_refurbishing
# 					months = normal_modifier_time
# 				}
# 			}
# 		}
# 	}

# 	option = {
# 		name = revolution_pulse_events.6.b
# 		scope:ongoing_revolution = {
# 			add_civil_war_progress = revolution_advance_small
# 		}
# 		scope:ongoing_revolution_movement = {
# 			add_modifier = { 
# 				name = modifier_movement_dreadnought_martyred
# 				months = normal_modifier_time
# 			}
# 		}
# 		scope:potemkin_state = {
# 			scope:potemkin_naval_base = {
# 				add_modifier = {
# 					name = modifier_dreadnought_defection
# 					months = normal_modifier_time
# 				}
# 			}
# 		}
# 		scope:potemkin_final_destination = {
# 			create_incident = {
# 				country = root
# 				value = 5
# 			}
# 		}
# 	}
# }

revolution_pulse_events.7 = {
	type = country_event
	placement = scope:petition_march_state

	duration = 3

	title = revolution_pulse_events.7.t
	desc = revolution_pulse_events.7.d
	flavor = revolution_pulse_events.7.f

	category = revolution

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		has_ruling_interest_group_count >= 2
		any_interest_group = {
			is_in_government = yes
			OR = {
				is_being_suppressed = yes
				ig_approval <= 0
			}
		}
		has_law = law_type:law_hereditary
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				is_in_government = yes
				OR = {
					is_being_suppressed = yes
					ig_approval <= 0
				}
			}
			save_scope_as = petition_march_ig
			leader = {
				save_scope_as = petition_march_leader
			}
		}
		capital = {
			save_scope_as = petition_march_state
		}
		ruler = {
			save_scope_as = petition_march_ruler
		}
	}
	
	option = {
		name = revolution_pulse_events.7.a 
		default_option = yes
		ai_chance = {
			base = 50
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:petition_march_ig = {
			add_modifier = {
				name = modifier_petition_march_appeased
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.7.b #You will regret this.
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					scope:petition_march_ig = {
						is_powerful = yes
					}
				}
				add = -25
			}
			modifier = {
				trigger = {
					scope:petition_march_ig = {
						ig_approval < -3
					}
				}
				add = -25
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_large
		}
		scope:petition_march_leader = {
			if = {
				limit = {
					ROOT = {
						socialist_revolution_ongoing = yes
					}
				}
				set_ideology = ideology:ideology_totalitarian
			}
			else_if = {
				limit = {
					ROOT = { 
						liberal_revolution_ongoing = yes
					}
				}
				set_ideology = ideology:ideology_multiculturalist
			}
			else_if = {
				limit = {
					ROOT = { 
						reactionary_revolution_ongoing = yes
					}
				}
				set_ideology = ideology:ideology_traditionalist
			}
			add_trait = wounded
		}
		scope:petition_march_state = {			
			add_radicals_in_state = {
				value = large_radicals
			}
		}
		scope:petition_march_ig = {
			add_modifier = {
				name = modifier_petition_march_shot
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.7.c
		trigger = {
			scope:petition_march_state = {
				any_scope_building = {
					is_building_type = building_railway
				}
			}
		}
		ai_chance = {
			base = 25
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:petition_march_state = {			
			add_loyalists_in_state = {
				value = large_radicals
			}
		}
		scope:petition_march_ig = {
			add_modifier = {
				name = modifier_petition_march_heard
				months = normal_modifier_time
			}
		}
		ruler = {
			add_modifier = {
				name = modifier_ruler_of_the_people
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.8 = {
	type = country_event
	placement = scope:revolutionary_robbery_state

	duration = 3

	title = revolution_pulse_events.8.t
	desc = revolution_pulse_events.8.d
	flavor = revolution_pulse_events.8.f

	category = revolution

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		OR = {
			revolution_progress_low = yes
			revolution_progress_medium = yes
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
			}
			save_scope_as = revolutionary_robbery_state
		}
		random_law = {
			limit = {
				type = law_type:law_secret_police
			}
			save_scope_as = secret_police_law
		}
	}
	
	option = {
		name = revolution_pulse_events.8.a 
		default_option = yes
		add_modifier = {
			name = modifier_bank_robbery_payments
			months = short_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.8.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_modifier = {
			name = modifier_bank_robbery_payments
			months = 13
		}
	}

	option = {
		name = revolution_pulse_events.8.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		trigger = {
			AND = {
				institution_investment_level = { 
					institution = institution_criminal_justice_system
					value > 2
				}
				has_law = law_type:law_secret_police
			}			
		}
	}
}

revolution_pulse_events.9 = {
	type = country_event
	placement = scope:agitation_af_state

	duration = 3

	title = revolution_pulse_events.9.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = revolution_pulse_events.9.d
				trigger = {
					any_interest_group = {
						is_insurrectionary = yes
						NOT = {
							any_scope_character = {
								has_role = agitator
							}
						}
					}
				}
			}
			triggered_desc = {
				desc = revolution_pulse_events.9.d2
				trigger = {
					any_interest_group = {
						is_insurrectionary = yes
						any_scope_character = {
							has_role = agitator
						}
					}
				}
			}
		}
	}
	flavor = revolution_pulse_events.9.f

	category = revolution

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		ig:ig_securocrats = {
			is_insurrectionary = no
			is_marginal = no
		}
		revolution_progress_low = yes
		any_scope_building = {
			is_building_type = building_barracks	
		}
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_securocrats = {
			save_scope_as = armed_forces_ig
		}
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_barracks
				}
				is_incorporated = yes				
			}
			save_scope_as = agitation_af_state
			random_scope_building = {
				limit = {
					is_building_type = building_barracks	
				}
				save_scope_as = agitation_af_building
			}
		}
		if = {
			limit = {
				any_interest_group = {
					is_insurrectionary = yes
					any_scope_character = {
						has_role = agitator
					}
				}
			}
			random_interest_group = {
				limit = {
					is_insurrectionary = yes
					any_scope_character = {
						has_role = agitator
					}
				}
				random_scope_character = {
					limit = {
						has_role = agitator
					}
					save_scope_as = agitation_af_agitator
				}
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.9.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:armed_forces_ig = {
			add_modifier = {
				name = modifier_protected_from_agitation
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.9.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:agitation_af_state = {
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = servicemembers
			}
			scope:agitation_af_building = {
				add_modifier = {
					name = modifier_hotbed_of_agitation
					months = short_modifier_time
				}
			}
		}
	}
}

revolution_pulse_events.10 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.10.t
	desc = revolution_pulse_events.10.d
	flavor = revolution_pulse_events.10.f

	category = revolution

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		OR = {
			has_law = law_type:law_hereditary
			has_law = law_type:law_autocracy
			has_law = law_type:law_oligarchy
			has_law = law_type:law_anocracy
		}
		revolution_progress_high = yes
		any_political_movement = {
			is_revolutionary_movement = yes
			OR = {
				is_political_movement_type = movement_to_enact
				is_political_movement_type = movement_to_restore
			}
			NOR = {
				desired_law = law_type:law_hereditary
				desired_law = law_type:law_executive
				desired_law = law_type:law_parliamentary
				desired_law = law_type:law_theocratic
				desired_law = law_type:law_council_elective
			}
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ruler = {
			save_scope_as = reforms_at_gunpoint_ruler
		}
		random_interest_group = {
			limit = {				
				is_in_government = yes
			}
			save_scope_as = reforms_at_gunpoint_ig
		}
		scope:ongoing_revolution_movement = { #Can't trigger if they want governance reforms anyway.
			this.desired_law = {
				save_scope_as = revolutionaries_law
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.10.a 
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_very_large
		}
		default_option = yes
		ROOT = {
			activate_law = scope:revolutionaries_law
		}
		add_loyalists = {
			value = medium_radicals
		}
	}

	option = {
		name = revolution_pulse_events.10.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_large
		}
		ROOT = {
			activate_law = scope:revolutionaries_law
		}
		scope:reforms_at_gunpoint_ig = {
			add_modifier = {
				name = modifier_vanguard_against_radicalism
				months = normal_modifier_time
			}
		}
		add_loyalists = {
			value = small_radicals
		}
	}

	option = {
		name = revolution_pulse_events.10.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_large
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_reforms_at_gunpoint_failed
				months = normal_modifier_time
			}
		}
		scope:reforms_at_gunpoint_ig = {
			add_modifier = {
				name = modifier_refused_advice
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.11 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.11.t
	desc = revolution_pulse_events.11.d
	flavor = revolution_pulse_events.11.f

	category = revolution

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		ig:ig_securocrats = {
			is_marginal = no
			OR = {
				is_being_suppressed = yes
				ig_approval <= 0
			}
		}
		has_variable = recently_had_war
		any_country = {
			has_truce_with = root
		}
		revolution_progress_low = yes
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_securocrats = {
			save_scope_as = armed_forces_ig
		}
		ordered_country = {
			limit = {
				has_truce_with = root
			}
			order_by = country_rank
			save_scope_as = most_recent_opponent_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.11.a 
		default_option = yes
		scope:most_recent_opponent_scope = {
			change_relations = {
				country = ROOT
				value = -10
			}
		}
		ig:ig_securocrats = {
			add_modifier = {
				name = modifier_spirit_of_trenches
				months = normal_modifier_time
			}
		}
		add_loyalists = {
			value = small_radicals
			pop_type = servicemembers
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_trenchocracy
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.11.b
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_trenchocracy_rebutted
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.12 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.12.t
	desc = revolution_pulse_events.12.d
	flavor = revolution_pulse_events.12.f

	category = revolution

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		OR = {
			has_law = law_type:law_direct_democracy
			has_law = law_type:law_consensus_democracy
			has_law = law_type:law_representative_democracy
		}
		any_scope_character = {
			has_role = agitator
			OR = {
				has_socialist_ideology = yes
			}
		}
		ig:ig_laborists = {
			is_insurrectionary = no
		}
		revolution_progress_low = yes
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_character = {
			limit = {
				has_role = agitator
				OR = {
					has_socialist_ideology = yes
				}
			}
			save_scope_as = communist_agitator_scope
		}
		ig:ig_laborists = {
			save_scope_as = trade_union_ig
			leader = {
				save_scope_as = trade_union_leader
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.12.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_social_democratic_betrayal
				months = normal_modifier_time
			}
		}
		create_character = {
			ig_leader = yes
			interest_group = ig_laborists
			ideology = ideology_totalitarian
			on_created = {
				add_modifier = {
					name = modifier_dedicated_reformist
				}
			}
		}
		custom_tooltip = revolution_pulse_events.12.a1
		scope:trade_union_ig = {
			add_modifier = {
				name = modifier_yellow_trade_unions
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.12.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
	}
}

revolution_pulse_events.13 = {
	type = country_event
	placement = scope:attacked_state

	duration = 3

	title = revolution_pulse_events.13.t
	desc = revolution_pulse_events.13.d
	flavor = revolution_pulse_events.13.f

	category = revolution

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		OR = {
			has_law = law_type:law_direct_democracy
			has_law = law_type:law_consensus_democracy
			has_law = law_type:law_representative_democracy
		}
		ig:ig_securocrats = {
			is_marginal = no
		}
		any_scope_state = {
			turmoil >= 0.25
		}
		revolution_progress_medium = yes
		any_interest_group = {
			is_insurrectionary = yes
			is_marginal = no
			ig_is_socialist = yes	
		}
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				is_insurrectionary = yes
				is_marginal = no
				ig_is_socialist = yes		
			}
			save_scope_as = attacked_ig
		}
		random_scope_state = {
			limit = {
				turmoil >= 0.25
				is_incorporated = yes
			}
			save_scope_as = attacked_state
		}
		ig:ig_securocrats = {
			save_scope_as = paramil_ig
		}
		random_scope_character = {
			limit = {
				has_role = agitator
				OR = {
					has_socialist_ideology = yes
				}
			}
			save_scope_as = communist_revolutionary_scope	
		}
	}
	
	option = {
		name = revolution_pulse_events.13.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_state_paramilitarism
				months = normal_modifier_time
			}
		}
		scope:paramil_ig = {
			add_modifier = {
				name = modifier_deployed_against_people
				months = normal_modifier_time
			}
			leader = {
				add_modifier = {
					name = modifier_paramilitary_leader
				}
			}
		}
		scope:attacked_state = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}

	option = {
		name = revolution_pulse_events.13.b 
		trigger = {
			any_scope_character = {
				has_role = agitator
				OR = {
					has_socialist_ideology = yes
				}
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_state_paramilitarism
				months = normal_modifier_time
			}
		}
		scope:communist_revolutionary_scope = {
			random_list = {
				66 = {
					add_trait = wounded
				}
				33 = {

				}
			}		
		}
		scope:paramil_ig = {
			add_modifier = {
				name = modifier_deployed_against_people
				months = normal_modifier_time
			}
			leader = {
				add_modifier = {
					name = modifier_paramilitary_leader
				}
			}
		}
	}

	option = {
		name = revolution_pulse_events.13.c
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_civil_demonstrations
				months = normal_modifier_time
			}
		}
		scope:attacked_state = {
			add_modifier = {
				name = modifier_civil_demonstrations
				months = normal_modifier_time
			}
		}
	}
}

### Fascism Chain [1]

revolution_pulse_events.14 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.14.t
	desc = revolution_pulse_events.14.d
	flavor = revolution_pulse_events.14.f

	category = revolution

	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		any_interest_group = {
			OR = {
				is_interest_group_type = ig_elites
				is_interest_group_type = ig_entrepreneurs
			}
			is_marginal = no
			is_in_government = yes
		}
		revolution_progress_low = yes
		empty_agitator_slots >= 1
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				OR = {
					is_interest_group_type = ig_elites
					is_interest_group_type = ig_entrepreneurs
				}
				is_marginal = no
				is_in_government = yes
			}
			save_scope_as = reactionary_agitator_ig
		}
		ruler = {
			save_scope_as = nation_ruler
		}
	}
	
	option = { #Unlocks revolution_pulse_events.15
		name = revolution_pulse_events.14.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_militant_counter_revolutionaries
				months = normal_modifier_time
			}
		}
		set_variable = { name = embraced_reactionary_group value = 1 }
		create_character = {
			is_agitator = yes
			interest_group = scope:reactionary_agitator_ig
			ideology = ideology_authoritarian
			traits = {
				demagogue 
			}
			on_created = {
				set_variable = {
					name = reactionary_agitator_var
				}
			}
		}
	}

	option = {
		name = revolution_pulse_events.14.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:reactionary_agitator_ig = {
			add_modifier = {
				name = modifier_refused_overtures
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.15 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.15.t
	desc = revolution_pulse_events.15.d
	flavor = revolution_pulse_events.15.f

	category = revolution

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		var:embraced_reactionary_group ?= 1
		OR = {
			revolution_progress_low = yes
			revolution_progress_medium = yes
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			save_scope_as = reactionary_agitator
		}
		random_interest_group = {
			limit = {
				any_scope_character = {	
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = reactionary_agitator_ig
		}
	}
	
	option = {  
		name = revolution_pulse_events.15.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_government_embraced_counter_revolutionaries
				months = normal_modifier_time
			}
		}
		if = {
			limit = {
				liberal_revolution_ongoing = yes
			}
			set_variable = { name = embraced_reactionary_group value = 3 } #Unlocks revolution_pulse_events.17. Skips revolution_pulse_events.16.
		}
		else = { 
			set_variable = { name = embraced_reactionary_group value = 2 } #Unlocks revolution_pulse_events.16 -AND- revolution_pulse_events.17.
		}
		add_loyalists = {
			strata = middle
			value = small_radicals
		}
		every_interest_group = {
			limit = {
				ig_is_reactionary = yes
			}
			add_modifier = {
				name = modifier_government_courting_reactionaries
				months = normal_modifier_time
			}
		}
		add_modifier = {
			name = modifier_government_courting_reactionaries_country
			months = normal_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.15.b
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_deradicalized_counter_revolutionaries
				months = normal_modifier_time
			}
		}
		every_interest_group = {
			limit = {
				ig_is_reactionary = yes
			}
			add_modifier = {
				name = modifier_government_not_courting_reactionaries_1
				months = normal_modifier_time
			}
		}
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			add_modifier = {
				name = modifier_government_snubbed_by_government
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.16 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.16.t
	desc = revolution_pulse_events.16.d
	flavor = revolution_pulse_events.16.f

	category = revolution

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		var:embraced_reactionary_group ?= 2
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				any_scope_character = {	
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = reactionary_agitator_ig
		}
	}
	
	option = { 
		name = revolution_pulse_events.16.a #Fascist. Unlocks revolution_pulse_events.18 and revolution_pulse_events.17.
		default_option = yes
		set_variable = { name = embraced_reactionary_group value = 3 }
		set_variable = { name = reactionary_group_alignment value = 1 }
		add_modifier = {
			name = modifier_rising_fascism
			months = normal_modifier_time
		}
	}

	option = { 
		name = revolution_pulse_events.16.b #Not fascist. Unlocks revolution_pulse_events.20.
		set_variable = { name = embraced_reactionary_group value = 3 }
		set_variable = { name = reactionary_group_alignment value = 2 }
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			set_ideology = ideology:ideology_traditionalist
		}
		ig:ig_elites = {
			add_modifier = {
				name = modifier_appealed_to_tradition
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.17 = {
	type = country_event
	placement = scope:pogrom_state

	duration = 3

	title = revolution_pulse_events.17.t
	desc = revolution_pulse_events.17.d
	flavor = revolution_pulse_events.17.f

	category = revolution

	event_image = {
		video = "votp_agitators_sneaking"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {	
		any_scope_state = {
			is_incorporated = yes
			any_scope_culture = {
				culture_is_discriminated_in = root
			}
		}
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		var:embraced_reactionary_group ?= 3
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_culture = {
					culture_is_discriminated_in = root
				}
			}
			random_scope_culture = {
				limit = {
					culture_is_discriminated_in = root
				}
				save_scope_as = pogrom_culture
				set_variable = pogrom_culture_var
			}
			save_scope_as = pogrom_state
		}
		random_interest_group = {
			limit = {
				any_scope_character = {	
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = pogrom_ig
		}
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			save_scope_as = reactionary_agitator
		}
	}
	
	option = {
		name = revolution_pulse_events.17.a 
		default_option = yes
		ai_chance = {
			base = 75
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_reactionary_pogroms
				months = normal_modifier_time
			}
		}
		scope:pogrom_state = {
			add_culture_standard_of_living_modifier = {
				culture = scope:pogrom_culture
				months = normal_modifier_time
				multiplier = -10
			}
			state_region = {
				add_devastation = 10
			}
			add_radicals_in_state = {
				culture = scope:pogrom_culture
				value = large_radicals
			}
			every_neighbouring_state = {
				limit = {
					any_scope_culture = {
						has_variable = pogrom_culture_var
					}
					owner = root
				}
				add_culture_standard_of_living_modifier = {
					culture = scope:pogrom_culture
					months = normal_modifier_time
					multiplier = -7
				}
				add_radicals_in_state = {
					culture = scope:pogrom_culture
					value = large_radicals
				}
			}
		}
		scope:pogrom_culture = {
			remove_variable = pogrom_culture_var
		}
	}

	option = {
		name = revolution_pulse_events.17.b
		ai_chance = {
			base = 25
			modifier = {
				trigger = {
					scope:pogrom_ig = {
						ig_approval < -5
					}
				}
				add = -25
			}
		}
		scope:pogrom_state = {
			add_culture_standard_of_living_modifier = {
				culture = scope:pogrom_culture
				months = normal_modifier_time
				multiplier = -5
			}
			state_region = {
				add_devastation = 5
			}
			add_radicals_in_state = {
				culture = scope:pogrom_culture
				value = medium_radicals
			}
			every_neighbouring_state = {
				limit = {
					any_scope_culture = {
						has_variable = pogrom_culture_var
					}
					owner = root
				}
				add_culture_standard_of_living_modifier = {
					culture = scope:pogrom_culture
					months = normal_modifier_time
					multiplier = -3
				}
				add_radicals_in_state = {
					culture = scope:pogrom_culture
					value = medium_radicals
				}
			}
		}
		scope:pogrom_ig = {
			if = {
				limit = {
					has_modifier = modifier_appealed_to_tradition
				}
				remove_modifier = modifier_appealed_to_tradition
			}
			if = {
				limit = {
					has_modifier = modifier_government_courting_reactionaries
				}
				remove_modifier = modifier_government_courting_reactionaries
			}
			add_modifier = {
				name = modifier_government_not_courting_reactionaries_2
				months = normal_modifier_time
			}
		}
		scope:pogrom_culture = {
			remove_variable = pogrom_culture_var
		}
	}
}

revolution_pulse_events.18 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.18.t
	desc = revolution_pulse_events.18.d
	flavor = revolution_pulse_events.18.f

	category = revolution

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		var:embraced_reactionary_group ?= 3
		var:reactionary_group_alignment ?= 1
		revolution_progress_medium = yes
		any_interest_group = {
			is_insurrectionary = yes
			is_marginal = no
			ig_is_socialist = yes
		}
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				any_scope_character = {
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = fascist_ig
			random_scope_character = {
				limit = {
					has_variable = reactionary_agitator_var
				}
				save_scope_as = fascist_agitator
			}
		}
		random_interest_group = {
			limit = {
				is_insurrectionary = yes
				is_marginal = no
				ig_is_socialist = yes
			}
			save_scope_as = internationalist_ig
		}
	}
	
	option = { #Unlocks revolution_pulse_events.19.
		name = revolution_pulse_events.18.a
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		} 
		default_option = yes
		set_variable = { name = embraced_reactionary_group value = 4 }
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			set_ideology = ideology:ideology_fascist
			add_modifier = {
				name = modifier_fascist_vanguard
			}
		}
		capital = {	
			add_radicals_in_state = {
				value = small_radicals
				strata = poor
			}	
		}
	}

	option = { #Unlocks revolution_pulse_events.19.
		name = revolution_pulse_events.18.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		set_variable = { name = embraced_reactionary_group value = 4 }
		random_scope_character = {
			limit = {
				has_variable = reactionary_agitator_var
			}
			set_ideology = ideology:ideology_fascist
		}
		create_character = {
			ig_leader = yes
			interest_group = scope:fascist_ig
			ideology = ideology_fascist
		}
		capital = {	
			add_loyalists_in_state = {
				value = small_radicals
				strata = middle
			}	
		}
	}
}

revolution_pulse_events.19 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.19.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = revolution_pulse_events.19.d
				trigger = {
					any_interest_group = {
						leader = {
							has_fascist_ideology = yes
						}
					} 
				}
			}
			triggered_desc = {
				desc = revolution_pulse_events.19.d2
				trigger = {
					NOT = { 
						any_interest_group = {
							leader = {
								has_fascist_ideology = yes
							}
						} 
					}	
				}
			}
		}
	}
	flavor = revolution_pulse_events.19.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		socialist_revolution_ongoing = yes
		var:embraced_reactionary_group ?= 4
		var:reactionary_group_alignment ?= 1
		revolution_progress_high = yes
	}

	cancellation_trigger = {
		NOT = { socialist_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				any_scope_character = {
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = fascist_agitator_ig
			random_scope_character = {
				limit = {
					has_variable = reactionary_agitator_var
				}
				save_scope_as = fascist_regime_agitator
			}
			leader = {
				save_scope_as = fascist_regime_leader
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.19.a
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_very_large
		}
		trigger = {
			any_interest_group = {
				leader = {
					has_fascist_ideology = yes
				}
			} 
		}
		default_option = yes
		ROOT = {
			activate_law = law_type:law_autocracy
			activate_law = law_type:law_ethnonationalist	
			activate_law = law_type:law_outlawed_dissent
		}
		every_interest_group = {
			limit = {
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value < neutral
					}
					law_stance = {
						law = law_type:law_ethnonationalist
						value < neutral
					}
					law_stance = {
						law = law_type:law_outlawed_dissent
						value < neutral
					}
				}
			}
			add_modifier = {
				name = modifier_fascist_repressions
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.19.a2
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_very_large
		}
		trigger = {
			NOT = { 
				any_interest_group = {
					leader = {
						has_fascist_ideology = yes
					}
				} 
			}	
		}
		default_option = yes
		ROOT = {
			activate_law = law_type:law_autocracy
			activate_law = law_type:law_ethnonationalist	
			activate_law = law_type:law_outlawed_dissent
		}
		every_interest_group = {
			limit = {
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value < neutral
					}
					law_stance = {
						law = law_type:law_ethnonationalist
						value < neutral
					}
					law_stance = {
						law = law_type:law_outlawed_dissent
						value < neutral
					}
				}
			}
			add_modifier = {
				name = modifier_fascist_repressions
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.19.b
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_putsch_averted
				months = normal_modifier_time
			}
		}
		scope:fascist_agitator_ig = {
			if = {
				limit = {
					has_modifier = modifier_appealed_to_tradition
				}
				remove_modifier = modifier_appealed_to_tradition
			}
			if = {
				limit = {
					has_modifier = modifier_government_courting_reactionaries
				}
				remove_modifier = modifier_government_courting_reactionaries
			}
			add_modifier = {
				name = modifier_government_not_courting_reactionaries_3
				months = normal_modifier_time
			}
		}
		every_interest_group = {
			limit = {
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value < neutral
					}
					law_stance = {
						law = law_type:law_ethnonationalist
						value < neutral
					}
					law_stance = {
						law = law_type:law_outlawed_dissent
						value < neutral
					}
				}
			}
			add_modifier = {
				name = modifier_united_front
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.20 = {
	type = country_event
	placement = ROOT

	duration = 3

	title = revolution_pulse_events.20.t
	desc = revolution_pulse_events.20.d
	flavor = revolution_pulse_events.20.f

	category = revolution

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			socialist_revolution_ongoing = yes
			liberal_revolution_ongoing = yes
		}
		var:embraced_reactionary_group ?= 3
		var:reactionary_group_alignment ?= 2
		revolution_progress_high = yes
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				any_scope_character = {
					has_variable = reactionary_agitator_var
				}
			}
			save_scope_as = reactionary_regime_ig
			leader = {
				save_scope_as = reactionary_regime_ig_leader
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.20.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_very_large
		}
		ROOT = {
			activate_law = law_type:law_autocracy
			activate_law = law_type:law_supremacist
			activate_law = law_type:law_censorship
		}
		every_interest_group = {
			limit = {
				OR = {
					law_stance = {
						law = law_type:law_supremacist
						value < neutral
					}
					law_stance = {
						law = law_type:law_autocracy
						value < neutral
					}
					law_stance = {
						law = law_type:law_censorship
						value < neutral
					}
				}
			}
			add_modifier = {
				name = modifier_government_in_freefall
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.20.b
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_putsch_averted
				months = normal_modifier_time
			}
		}
		scope:reactionary_regime_ig = {
			if = {
				limit = {
					has_modifier = modifier_appealed_to_tradition
				}
				remove_modifier = modifier_appealed_to_tradition
			}
			if = {
				limit = {
					has_modifier = modifier_government_courting_reactionaries
				}
				remove_modifier = modifier_government_courting_reactionaries
			}
			add_modifier = {
				name = modifier_government_not_courting_reactionaries_3
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.21 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.21.t
	desc = revolution_pulse_events.21.d
	flavor = revolution_pulse_events.21.f

	category = revolution

	event_image = {
		video = "southamerica_public_figure_assassination"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			liberal_revolution_ongoing = yes
			socialist_revolution_ongoing = yes
		}
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_hereditary
				value < neutral
			}
		}
		has_law = law_type:law_hereditary
		OR = {
			revolution_progress_medium = yes
			revolution_progress_high = yes
		}
		any_scope_state = {
			is_incorporated = yes
			turmoil > 0.2
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				turmoil > 0.2
			}
			save_scope_as = assassination_state
		}
		ig:ig_elites = {
			save_scope_as = royal_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.21.a 
		default_option = yes
		ai_chance = {
			base = 25
			modifier = {
				trigger = {
					scope:royal_ig = {
						ig_approval < -5
					}
				}
				add = -25
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		add_modifier = {
			name = modifier_minor_royal_assassinated
			months = short_modifier_time
		}
		scope:royal_ig = {
			add_modifier = {
				name = modifier_ignored_assassination
				months = short_modifier_time
			}	
		}
	}

	option = {
		name = revolution_pulse_events.21.b
		ai_chance = {
			base = 75
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_modifier = {
			name = modifier_state_of_mourning
			months = 12
		}
		scope:assassination_state = {
			add_loyalists_in_state = {
				value = medium_radicals
				interest_group = scope:royal_ig
			}
		}
	}
}

revolution_pulse_events.22 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.22.t
	desc = revolution_pulse_events.22.d
	flavor = revolution_pulse_events.22.f

	category = revolution

	event_image = {
		video = "votp_agitators_sneaking"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			liberal_revolution_ongoing = yes
			socialist_revolution_ongoing = yes
		}
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_hereditary
				value < neutral
			}
		}
		has_law = law_type:law_hereditary
		OR = {
			revolution_progress_medium = yes
			revolution_progress_high = yes
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				is_in_government = yes
			}
			save_scope_as = hostage_ig
			leader = {
				save_scope_as = hostage_char
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.22.a 
		default_option = yes
		ai_chance = {
			base = 50
		}
		scope:hostage_char = {
			add_trait = scarred
		}
		scope:hostage_ig = {
			add_modifier = {
				name = modifier_loyal_to_leader
				months = normal_modifier_time
			}
		}
		random_interest_group = {
			limit = {
				is_marginal = no
				is_insurrectionary = yes
				law_stance = {
					law = law_type:law_hereditary
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_kings_ransom
				months = short_modifier_time
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
	}

	option = {
		name = revolution_pulse_events.22.b
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					scope:hostage_ig = {
						ig_approval < -5
					}
				}
				add = -25
			}
		}
		scope:hostage_char = {
			kill_character = yes
		}
		scope:hostage_ig = {
			add_modifier = {
				name = modifier_furious_at_sacrifice
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.22.c
		ai_chance = {
			base = 50
		}
		random_list = {
			25 = {
				scope:hostage_char = {
					add_trait = scarred
					add_modifier = {
						name = modifier_hostage_situation_hero
						months = long_modifier_time
					}
				}
				scope:ongoing_revolution = {
					add_civil_war_progress = revolution_retreat_medium
				}
			}
			25 = {
				scope:hostage_char = {
					add_trait = wounded
				}
				scope:ongoing_revolution = {
					add_civil_war_progress = revolution_retreat_small
				}
			}
			50 = {
				scope:hostage_char = {
					kill_character = yes
				}
			}
		}
	}
}

revolution_pulse_events.23 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.23.t
	desc = revolution_pulse_events.23.d
	flavor = revolution_pulse_events.23.f

	category = revolution

	event_image = {
		video = "votp_conspiring"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			liberal_revolution_ongoing = yes
			socialist_revolution_ongoing = yes
		}
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_hereditary
				value < neutral
			}
		}
		has_law = law_type:law_hereditary
		OR = {
			revolution_progress_low = yes
			revolution_progress_medium = yes
		}
		any_scope_state = {
			is_incorporated = yes
			has_building = building_university
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				has_building = building_university
			}
			save_scope_as = university_terror_state
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				save_scope_as = university_terror_building
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.23.a 
		default_option = yes
		scope:university_terror_state = {
			add_modifier = {
				name = modifier_terror_cell_crackdown_state
				months = short_modifier_time
			}
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = academics
			}
		}
		scope:university_terror_building = {
			add_modifier = {
				name = modifier_terror_cell_crackdown
				months = short_modifier_time
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
	}

	option = {
		name = revolution_pulse_events.23.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
	}
}

revolution_pulse_events.24 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.24.t
	desc = revolution_pulse_events.24.d
	flavor = revolution_pulse_events.24.f

	category = revolution

	event_image = {
		video = "southamerica_public_figure_assassination"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			liberal_revolution_ongoing = yes
			socialist_revolution_ongoing = yes
		}
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_hereditary
				value < neutral
			}
		}
		has_law = law_type:law_hereditary
		revolution_progress_high = yes
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		capital = {
			save_scope_as = capital_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.24.a 
		default_option = yes
		ruler = {
			add_trait = scarred
		}
		if = {
			limit = {
				ruler.popularity > 50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_very_large
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 3
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_large
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 2
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 0
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_medium
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 1
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_small
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 0.5
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_small
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 0.5
				is_decaying = yes
			}
		}
		else = {
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_medium
			}
			add_modifier = {
				name = modifier_assassination_attempt_aftermath
				months = short_modifier_time
				multiplier = 0.5
				is_decaying = yes
			}
		}
	}

	option = {
		name = revolution_pulse_events.24.b
		trigger = {
			institution_investment_level = { institution = institution_criminal_justice_system value >= 3 }
		}
		highlighted_option = yes
		ruler = {
			add_trait = scarred
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_large
		}
		random_interest_group = {
			limit = {
				is_marginal = no
				is_insurrectionary = yes
				law_stance = {
					law = law_type:law_hereditary
					value < neutral
				}
			}
			leader = {
				kill_character = yes
			}
			add_modifier = {
				name = modifier_surgical_reprisal
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

revolution_pulse_events.25 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.25.t
	desc = revolution_pulse_events.25.d
	flavor = revolution_pulse_events.25.f

	category = revolution

	event_image = {
		video = "southamerica_public_figure_assassination"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		OR = {
			liberal_revolution_ongoing = yes
			socialist_revolution_ongoing = yes
		}
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_hereditary
				value < neutral
			}
		}
		has_law = law_type:law_hereditary
		revolution_progress_high = yes
		any_scope_character = {
			is_heir = yes
		}
	}

	cancellation_trigger = {
		NOR = { 
			socialist_revolution_ongoing = yes 
			liberal_revolution_ongoing = yes 
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_character = {
			limit = {
				is_heir = yes
			}
			save_scope_as = heir_scope
		}
		if = {
			limit = {
				ruler = {
					is_female = yes
				}
			}
			set_variable = { name = ruler_female months = 12 }
		}
		else = {
			set_variable = { name = ruler_male months = 12 }
		}
		capital = {
			save_scope_as = capital_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.25.a 
		default_option = yes
		show_as_tooltip = {
			ruler = {
				kill_character = yes
			}
		}
		if = {
			limit = {
				ruler.popularity > 50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				multiplier = 3
				is_decaying = yes
			}
			add_loyalists = {
				value = large_radicals
				strata = poor
			}
			add_loyalists = {
				value = large_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_medium
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				multiplier = 2
				is_decaying = yes
			}
			add_loyalists = {
				value = medium_radicals
				strata = poor
			}
			add_loyalists = {
				value = medium_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 0
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_small
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
			add_loyalists = {
				value = medium_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_medium
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		else = {
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_very_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		hidden_effect = {
			ruler = {
				kill_character = yes
			}
		}
	}

	option = { #Inigo Montoya
		name = revolution_pulse_events.25.b
		show_as_tooltip = {
			ruler = {
				kill_character = yes
			}
		}
		if = {
			limit = {
				ruler.popularity > 50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				multiplier = 3
				is_decaying = yes
			}
			add_loyalists = {
				value = large_radicals
				strata = poor
			}
			add_loyalists = {
				value = large_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_medium
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				multiplier = 2
				is_decaying = yes
			}
			add_loyalists = {
				value = medium_radicals
				strata = poor
			}
			add_loyalists = {
				value = medium_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > 0
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_retreat_small
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
			add_loyalists = {
				value = medium_radicals
				strata = middle
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -25
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_medium
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		else_if = {
			limit = {
				ruler.popularity > -50
			}	
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		else = {
			scope:ongoing_revolution = {
				add_civil_war_progress = revolution_advance_very_large
			}
			add_modifier = {
				name = modifier_assassination_aftermath
				months = short_modifier_time
				is_decaying = yes
			}
		}
		random_scope_character = {
			limit = {
				is_heir = yes
			}
			random_list = {
				50 = {
					set_ideology = ideology:ideology_traditionalist
				}
				50 = {
					set_ideology = ideology:ideology_authoritarian
				}
			}
			add_trait = wrathful
		}
		add_modifier = {
			name = modifier_security_measure_support
			months = normal_modifier_time
		}
		hidden_effect = {
			ruler = {
				kill_character = yes
			}
		}
	}
}

revolution_pulse_events.26 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.26.t
	desc = revolution_pulse_events.26.d
	flavor = revolution_pulse_events.26.f

	category = revolution

	event_image = {
		trigger = {
			religion = rel:jewish
		}
		video = "europenorthamerica_judaism"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:protestant
				religion = rel:catholic
				religion = rel:orthodox
				religion = rel:oriental_orthodox
			}
		}
		video = "southamerica_christianity"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:hindu
				religion = rel:sikh
			}
		}
		video = "asia_hinduism_sikhism"
	}
	event_image = {
		trigger = {
			religion = rel:shinto
		}
		video = "asia_confucianism_shinto"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:mahayana
				religion = rel:gelugpa
				religion = rel:theravada
			}
		}
		video = "asia_buddhism"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:sunni
				religion = rel:shiite
			}
		}
		video = "middleeast_islam"
	}
	event_image = {
		trigger = {
			NOR = {
				religion = rel:jewish
				religion = rel:protestant
				religion = rel:catholic
				religion = rel:orthodox
				religion = rel:oriental_orthodox
				religion = rel:mahayana
				religion = rel:gelugpa
				religion = rel:theravada
				religion = rel:shinto
				religion = rel:hindu
				religion = rel:sikh
				religion = rel:sunni
				religion = rel:shiite
			}
		}
		video = "africa_animism"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_religious_institutions
				value > neutral
			}
		}
		NOT = {
			has_law = law_type:law_religious_institutions
		}
		revolution_progress_medium = yes
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_moralists = {
			save_scope_as = devout_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.26.a 
		default_option = yes
		scope:devout_ig = {
			add_modifier = {
				name = modifier_anticlerical_revolution
				months = normal_modifier_time
			}
		}
		add_radicals = {
			value = medium_radicals
			pop_type = clergy
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
	}

	option = {
		name = revolution_pulse_events.26.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:devout_ig = {
			add_modifier = {
				name = modifier_clergy_empowered
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.27 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.27.t
	desc = revolution_pulse_events.27.d
	flavor = revolution_pulse_events.27.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_religious_institutions
				value > neutral
			}
		}
		OR = {
			revolution_progress_medium = yes
			revolution_progress_high = yes
		}
		any_scope_state = {
			is_incorporated = yes
			turmoil > 0.2
		}
		NOT = {
			has_law = law_type:law_religious_institutions
		}
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				turmoil > 0.2
			}
			save_scope_as = standoff_state
		}
		ig:ig_moralists = {
			save_scope_as = devout_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.27.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		scope:standoff_state = {
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = clergy
			}
			add_radicals_in_state = {
				value = medium_radicals
				interest_group = scope:devout_ig
			}
			state_region = {
				add_devastation = 5
			}
		}
	}

	option = {
		name = revolution_pulse_events.27.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:standoff_state = {
			add_radicals_in_state = {
				value = small_radicals
			}
			add_modifier = {
				name = modifier_government_made_peace
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.28 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.28.t
	desc = revolution_pulse_events.28.d
	flavor = revolution_pulse_events.28.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		reactionary_revolution_ongoing = yes
		revolution_progress_medium = yes
		any_scope_state = {
			is_incorporated = yes
			turmoil > 0.2
		}
		NOT = {
			has_law = law_type:law_religious_institutions
		}
	}

	cancellation_trigger = {
		NOT = { reactionary_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				turmoil > 0.2
			}
			save_scope_as = feminine_brigades_state
		}
		ig:ig_moralists = {
			save_scope_as = devout_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.28.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
	}

	option = {
		name = revolution_pulse_events.28.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:feminine_brigades_state = {
			add_modifier = {
				name = modifier_feminine_brigades_shuttered
				months = short_modifier_time
			}
		}
	}
}

revolution_pulse_events.29 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.29.t
	desc = revolution_pulse_events.29.d
	flavor = revolution_pulse_events.29.f

	category = revolution

	event_image = {
		trigger = {
			religion = rel:jewish
		}
		video = "europenorthamerica_judaism"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:protestant
				religion = rel:catholic
				religion = rel:orthodox
				religion = rel:oriental_orthodox
			}
		}
		video = "southamerica_christianity"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:hindu
				religion = rel:sikh
			}
		}
		video = "asia_hinduism_sikhism"
	}
	event_image = {
		trigger = {
			religion = rel:shinto
		}
		video = "asia_confucianism_shinto"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:mahayana
				religion = rel:gelugpa
				religion = rel:theravada
			}
		}
		video = "asia_buddhism"
	}
	event_image = {
		trigger = {
			OR = {
				religion = rel:sunni
				religion = rel:shiite
			}
		}
		video = "middleeast_islam"
	}
	event_image = {
		trigger = {
			NOR = {
				religion = rel:jewish
				religion = rel:protestant
				religion = rel:catholic
				religion = rel:orthodox
				religion = rel:oriental_orthodox
				religion = rel:mahayana
				religion = rel:gelugpa
				religion = rel:theravada
				religion = rel:shinto
				religion = rel:hindu
				religion = rel:sikh
				religion = rel:sunni
				religion = rel:shiite
			}
		}
		video = "africa_animism"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_interest_group = {
			is_marginal = no
			is_insurrectionary = yes
			law_stance = {
				law = law_type:law_religious_institutions
				value > neutral
			}
		}
		OR = {
			revolution_progress_low = yes
			revolution_progress_medium = yes
		}
		NOT = {
			has_law = law_type:law_religious_institutions
		}
	}

	cancellation_trigger = {
		NOT = { any_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_moralists = {
			save_scope_as = devout_ig
		}
		capital = {
			save_scope_as = capital_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.29.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:ongoing_revolution_movement = {
			add_modifier = {
				name = modifier_movement_clergy_support
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.29.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		add_radicals = {
			value = medium_radicals
			interest_group = scope:devout_ig
		}
	}

	option = {
		name = revolution_pulse_events.29.c
		trigger = {
			scope:devout_ig = {
				is_insurrectionary = no
			}
			revolution_progress_medium = yes
		}
		scope:devout_ig = {
			join_revolution = yes
		}
	}
}

revolution_pulse_events.30 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.30.t
	desc = revolution_pulse_events.30.d
	flavor = revolution_pulse_events.30.f

	category = revolution

	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		reactionary_revolution_ongoing = yes
		OR = {
			revolution_progress_medium = yes
			revolution_progress_high = yes
		}
		any_scope_state = {
			is_incorporated = yes
			turmoil > 0.2
		}
		any_interest_group = {
			any_scope_character = {
				OR = {
					has_progressive_ideology = yes
					has_socialist_ideology = yes
				}
			}
		}
	}

	cancellation_trigger = {
		NOT = { reactionary_revolution_ongoing = yes }
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_scope_state = {
			limit = {
				is_incorporated = yes
				turmoil > 0.2
			}
			save_scope_as = workers_brigade_state
		}
		random_interest_group = {
			limit = {
				any_scope_character = {
					OR = {
						has_progressive_ideology = yes
						has_socialist_ideology = yes
					}
				}
			}
			save_scope_as = workers_militia_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.30.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:workers_militia_ig = {
			add_modifier = {
				name = modifier_workers_militias_empowered
				months = normal_modifier_time
			}
		}
		scope:workers_brigade_state = {
			add_modifier = {
				name = modifier_workers_militia_support
				months = normal_modifier_time
			}
			add_loyalists_in_state = {
				value = medium_radicals
				interest_group = scope:workers_militia_ig
			}
		}
	}

	option = {
		name = revolution_pulse_events.30.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:workers_militia_ig = {
			add_modifier = {
				name = modifier_workers_militias_disbanded
				months = normal_modifier_time
			}
		}
		scope:workers_brigade_state = {
			add_radicals_in_state = {
				value = medium_radicals
				interest_group = scope:workers_militia_ig
			}
		}
	}
}

revolution_pulse_events.31 = {
	type = country_event
	placement = scope:martial_laws_state

	duration = 3

	title = revolution_pulse_events.31.t
	desc = revolution_pulse_events.31.d
	flavor = revolution_pulse_events.31.f

	category = revolution

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_securocrats = {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_professional_military
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
			has_building = building_barracks
		}
	}

	cancellation_trigger = {
		OR = {
			scope:armed_forces_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:armed_forces_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_securocrats = {
			save_scope_as = armed_forces_ig
			leader = {
				save_scope_as = armed_forces_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				has_building = building_barracks
			}
			order_by = state_population
			save_scope_as = martial_laws_state
		}
	}
	
	option = {
		name = revolution_pulse_events.31.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:martial_laws_state = {
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = officers
			}
		}
		add_modifier = {
			name = modifier_af_arrested_mutineers
			months = short_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.31.b
		trigger = {
			OR = {
				has_law = law_type:law_professional_military
			}
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:armed_forces_ig = {
			add_modifier = {
				name = modifier_af_sent_home_to_family
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.31.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:martial_laws_state = {
			kill_population_percent_in_state = {
				percent = 0.02
				pop_type = servicemembers
			}
			add_radicals_in_state = {
				value = large_radicals
				pop_type = servicemembers
			}
		}
	}
}

revolution_pulse_events.32 = {
	type = country_event
	placement = scope:vox_diaboli_state

	duration = 3

	title = revolution_pulse_events.32.t
	desc = revolution_pulse_events.32.d
	flavor = revolution_pulse_events.32.f

	category = revolution

	event_image = {
		video = "europenorthamerica_political_extremism"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		NOT = {
			has_law = law_type:law_state_atheism
		}
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_moralists = {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_religious_institutions
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
			any_scope_pop = {
				has_state_religion = no
			}
			any_scope_pop = {
				has_state_religion = yes
			}
		}
	}

	cancellation_trigger = {
		OR = {
			scope:devout_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:devout_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_moralists = {
			save_scope_as = devout_ig
			leader = {
				save_scope_as = devout_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_pop = {
					has_state_religion = no
				}
				any_scope_pop = {
					has_state_religion = yes
				}
			}	
			order_by = state_population
			random_scope_pop = {
				limit = {
					has_state_religion = no
				}
				religion = {
					save_scope_as = minority_religion
				}
			}
			random_scope_pop = {
				limit = {
					has_state_religion = yes
				}
				religion = {
					save_scope_as = majority_religion
				}
			}
			save_scope_as = vox_diaboli_state
		}
	}
	
	option = {
		name = revolution_pulse_events.32.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_radicals = {
			value = small_radicals
			religion = scope:minority_religion
		}
		ig:ig_moralists = {
			add_modifier = {
				name = modifier_gagged_devout_rebels
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.32.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_radicals = {
			value = medium_radicals
			religion = scope:majority_religion
		}
		add_loyalists = {
			value = small_radicals
			religion = scope:minority_religion
		}
	}

	option = {
		name = revolution_pulse_events.32.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_radicals = {
			value = medium_radicals
			religion = scope:minority_religion
		}
		ig:ig_moralists = {
			add_modifier = {
				name = modifier_addressed_devout_concerns
				months = short_modifier_time
			}
		}
	}
}

revolution_pulse_events.33 = {
	type = country_event
	placement = scope:greed_is_good_state

	duration = 3

	title = revolution_pulse_events.33.t
	desc = revolution_pulse_events.33.d
	flavor = revolution_pulse_events.33.f

	category = revolution

	event_image = {
		video = "unspecific_factory_closed"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_capitalists= {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_socialization
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
			any_scope_building = {
				OR = {
					is_building_group = bg_light_industry 				
					is_building_group = bg_heavy_industry
				}
			}
		}
	}

	cancellation_trigger = {
		OR = {
			scope:industrialists_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:industrialists_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_capitalists= {
			save_scope_as = industrialists_ig
			leader = {
				save_scope_as = industrialists_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_building = {
					OR = {
						is_building_group = bg_light_industry 				
						is_building_group = bg_heavy_industry
					}
				}	
			}
			order_by = gdp

			save_scope_as = greed_is_good_state
		}
	}
	
	option = {
		name = revolution_pulse_events.33.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		add_modifier = {
			name = modifier_industrialists_negotiation_expenses
			months = short_modifier_time
			multiplier = money_amount_multiplier_small
		}
		scope:greed_is_good_state = {
			add_modifier = {
				name = modifier_industrialists_negotiation
				months = short_modifier_time
			}
		}
		ig:ig_capitalists= {
			add_modifier = {
				name = modifier_industrialists_negotiation_opinion
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.33.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		add_radicals = {
			value = small_radicals
			strata = rich
		}
		add_modifier = {
			name = modifier_factories_forced_reopen_expenses
			months = short_modifier_time
			multiplier = money_amount_multiplier_medium
		}
	}

	option = {
		name = revolution_pulse_events.33.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_large
		}
		add_radicals = {
			value = medium_radicals
			strata = rich
		}
		add_radicals = {
			value = small_radicals
			strata = middle
		}
		every_interest_group = {
			limit = {
				OR = {
					is_interest_group_type = ig_elites
					is_interest_group_type = ig_entrepreneurs
					is_interest_group_type = ig_capitalists
				}
			}
			add_modifier = {
				name = modifier_angry_at_nationalization
				months = short_modifier_time
			}
		}
	}
}

revolution_pulse_events.34 = {
	type = country_event
	placement = scope:little_dark_age_state

	duration = 3

	title = revolution_pulse_events.34.t
	desc = revolution_pulse_events.34.d
	flavor = revolution_pulse_events.34.f

	category = revolution

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_urbanists = {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_informal_schooling
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			has_building = building_university
			is_incorporated = yes
		}
	}

	cancellation_trigger = {
		OR = {
			scope:intelligentsia_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:intelligentsia_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_urbanists = {
			save_scope_as = intelligentsia_ig
			leader = {
				save_scope_as = intelligentsia_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				has_building = building_university	
			}
			order_by = gdp

			save_scope_as = little_dark_age_state
		}
		random_primary_culture = {
			save_scope_as = primary_culture_scope
		}
	}
	
	option = {
		name = revolution_pulse_events.34.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_radicals = {
			value = small_radicals
			culture = scope:primary_culture_scope
		}
		add_modifier = {
			name = modifier_intelligentsia_plan
			months = short_modifier_time
			multiplier = 2
		}
	}

	option = {
		name = revolution_pulse_events.34.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		ig:ig_urbanists = {
			add_modifier = {
				name = modifier_intelligentsia_plan_thwarted
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.34.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		add_loyalists = {
			value = small_radicals
			pop_type = academics
		}
		scope:little_dark_age_state = {
			remove_building = building_university
			create_building={
 				building="building_university"
 				level=1
 				reserves=1
 			}
		}
		add_modifier = {
			name = modifier_intelligentsia_plan
			months = short_modifier_time
		}
	}
}

revolution_pulse_events.35 = {
	type = country_event
	placement = scope:tragedy_of_commons_state

	duration = 3

	title = revolution_pulse_events.35.t
	desc = revolution_pulse_events.35.d
	flavor = revolution_pulse_events.35.f

	category = revolution

	event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_elites = {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_council_elective
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
		}
	}

	cancellation_trigger = {
		OR = {
			scope:landowners_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:landowners_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_elites = {
			save_scope_as = landowners_ig
			leader = {
				save_scope_as = landowners_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
			}
			order_by = state_population

			save_scope_as = tragedy_of_commons_state
		}
	}
	
	option = {
		name = revolution_pulse_events.35.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:tragedy_of_commons_state = {
			add_radicals_in_state = {
				value = medium_radicals
				pop_type = landlords
			}
		}
		ig:ig_elites = {
			add_modifier = {
				name = modifier_arrested_landlords_for_collusion
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.35.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_modifier = {
			name = modifier_arrested_landlords_exortion
			months = normal_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.35.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:tragedy_of_commons_state = {
			add_radicals_in_state = {
				value = small_radicals
				pop_type = landlords
			}
			add_modifier = {
				name = modifier_light_rent_controls
				months = normal_modifier_time
			}
		}
	}
}

revolution_pulse_events.36 = {
	type = country_event
	placement = scope:red_tape_state

	duration = 3

	title = revolution_pulse_events.36.t
	desc = revolution_pulse_events.36.d
	flavor = revolution_pulse_events.36.f

	category = revolution

	event_image = {
		video = "middleeast_courtroom_upheaval"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_entrepreneurs = {
			is_insurrectionary = yes
		}
		NOT = {
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
			has_building = building_government_administration
		}
	}

	cancellation_trigger = {
		OR = {
			scope:petty_bourgeoisie_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:petty_bourgeoisie_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_entrepreneurs = {
			save_scope_as = petty_bourgeoisie_ig
			leader = {
				save_scope_as = petty_bourgeoisie_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				has_building = building_government_administration
			}
			order_by = gdp

			save_scope_as = red_tape_state
		}
	}
	
	option = {
		name = revolution_pulse_events.36.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		add_modifier = {
			name = modifier_replacing_false_reports
			months = short_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.36.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:petty_bourgeoisie_ig_leader = {
			add_trait = arrogant
		}
		add_modifier = {
			name = modifier_fraud_false_reports
			months = short_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.36.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		add_modifier = {
			name = modifier_restart_false_reports
			months = short_modifier_time
		}
	}
}

revolution_pulse_events.37 = {
	type = country_event
	placement = scope:rot_on_vine_state

	duration = 3

	title = revolution_pulse_events.37.t
	desc = revolution_pulse_events.37.d
	flavor = revolution_pulse_events.37.f

	category = revolution

	event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_ruralists = {
			is_insurrectionary = yes
		}
		any_neighbouring_state = {
			NOT = {
				owner = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
		}
	}

	cancellation_trigger = {
		OR = {
			scope:rural_folk_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:rural_folk_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_ruralists = {
			save_scope_as = rural_folk_ig
			leader = {
				save_scope_as = rural_folk_ig_leader
			}
		}
		random_scope_state = {
			limit = {
				is_incorporated = yes
			}
			save_scope_as = rot_on_vine_state
		}
		random_country = {
			limit = {
				any_scope_state = {
					is_incorporated = yes
					any_neighbouring_state = {
						owner = root
					}
				}
			}
			save_scope_as = neighbour_country
		}
	}
	
	option = {
		name = revolution_pulse_events.37.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:rot_on_vine_state = {
			add_modifier = {
				name = modifier_local_farm_shutdowns
				months = short_modifier_time
				multiplier = 0.5
			}
		}
		ig:ig_securocrats = {	
			add_modifier = {
				name = modifier_armed_forces_farm_seizures
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.37.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		scope:rot_on_vine_state = {
			add_modifier = {
				name = modifier_local_farm_shutdowns
				months = short_modifier_time
			}
		}
		add_modifier = {
			name = modifier_foreign_food_aid
			months = short_modifier_time
		}
	}

	option = {
		name = revolution_pulse_events.37.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		scope:rot_on_vine_state = {
			add_modifier = {
				name = modifier_local_farm_shutdowns_with_substinence
				months = short_modifier_time
			}
		}
	}
}

revolution_pulse_events.38 = {
	type = country_event
	placement = scope:shall_not_be_infringed_state

	duration = 3

	title = revolution_pulse_events.38.t
	desc = revolution_pulse_events.38.d
	flavor = revolution_pulse_events.38.f

	category = revolution

	event_image = {
		video = "votp_barricade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		revolution_progress_high = yes
		ig:ig_laborists = {
			is_insurrectionary = yes
		}
		NOR = {
			has_law = law_type:law_decentralized_police
			any_country = {
				has_war_with = root
			}
		}
		any_scope_state = {
			is_incorporated = yes
			has_building = building_barracks
		}
	}

	cancellation_trigger = {
		OR = {
			scope:trade_unions_ig_leader = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:trade_unions_ig_leader
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ig:ig_laborists = {
			save_scope_as = trade_unions_ig
			leader = {
				save_scope_as = trade_unions_ig_leader
			}
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				has_building = building_barracks
			}
			order_by = state_population
			save_scope_as = shall_not_be_infringed_state
			owner = {
				save_scope_as = agitator_country_scope
			}
		}
	}
	
	option = {
		name = revolution_pulse_events.38.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_medium
		}
		scope:shall_not_be_infringed_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_barracks
				}
				add_modifier = {
					name = modifier_unp_barracks_malus
					months = normal_modifier_time
				}
			}
		}
		ig:ig_securocrats.leader = {
			random_list = {
				33 = {
					add_trait = cautious
				}
				33 = {
					add_trait = wrathful
				}
				34 = {
					add_trait = wounded
				}
			}
		}
	}

	option = {
		name = revolution_pulse_events.38.b
		trigger = {	
			empty_agitator_slots >= 1
		}
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_medium
		}
		add_radicals = {
			value = small_radicals
			pop_type = laborers
		}
		custom_tooltip = {
			text = agitator_spawn_tt
			create_character = {
				is_agitator = yes
				interest_group = ig_laborists
				traits = {
					bandit
					popular_commander
				}
			}
		}
		scope:shall_not_be_infringed_state = {
			kill_population_percent_in_state = {
				percent = 0.02
				pop_type = servicemembers
			}
		}
	}

	option = {
		name = revolution_pulse_events.38.c
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		add_modifier = {
			name = modifier_militarised_police_force
			months = normal_modifier_time
		}
		scope:shall_not_be_infringed_state = {
			add_radicals_in_state = {
				value = medium_radicals
				strata = poor
			}
		}
	}
}

revolution_pulse_events.39 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.39.t
	desc = revolution_pulse_events.39.d
	flavor = revolution_pulse_events.39.f

	category = revolution

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		any_interest_group = {
			is_in_government = no	
			is_marginal = no
			is_insurrectionary = no	
		}
		any_interest_group = { is_insurrectionary = yes }
	}

	cancellation_trigger = {
		OR = {
			NOT = { any_revolution_ongoing = yes }
			NOT = { any_interest_group = { is_insurrectionary = yes } }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		random_interest_group = {
			limit = {
				is_insurrectionary = yes
			}
			save_scope_as = revolting_ig
		}
		random_interest_group = {
			limit = {
				is_in_government = no	
				is_marginal = no
				is_insurrectionary = no	
			}
			save_scope_as = defecting_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.39.a 
		default_option = yes
		scope:revolting_ig = {
			add_modifier = {
				name = modifier_salvaged_some_support
				months = short_modifier_time
			}
		}
		scope:defecting_ig = {
			add_modifier = {
				name = modifier_defected_to_revolutionaries
				months = short_modifier_time
			}
		}
	}

	option = {
		name = revolution_pulse_events.39.b
		scope:revolting_ig = {
			add_modifier = {
				name = modifier_salvaged_some_support
				months = short_modifier_time
				multiplier = 0.5
			}
		}
		scope:defecting_ig = {
			add_modifier = {
				name = modifier_coaxing_defectors_back 
				months = short_modifier_time
			}
		}
		add_modifier = {
			name = modifier_coaxing_defectors 
			months = short_modifier_time
		}
	}
}

revolution_pulse_events.40 = {
	type = country_event
	placement = root

	duration = 3

	title = revolution_pulse_events.40.t
	desc = revolution_pulse_events.40.d
	flavor = revolution_pulse_events.40.f

	category = revolution

	event_image = {
		video = "votp_hostile_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		any_revolution_ongoing = yes
		any_interest_group = {
			is_in_government = no	
			is_marginal = no
			is_insurrectionary = no	
		}
		any_interest_group = {
			is_insurrectionary = yes	
		}
	}

	cancellation_trigger = {
		OR = {
			scope:governor_person = {
				is_character_alive = no
			}
			NOT = {
				exists = scope:governor_person
			}
			NOT = { any_revolution_ongoing = yes }
		}
	}
	
	immediate = {
		save_revolution_scopes = yes
		ruler = {
			save_scope_as = governor_person
		}
		random_interest_group = {
			limit = {
				is_insurrectionary = yes
			}
			save_scope_as = revolting_ig
		}
		random_interest_group = {
			limit = {
				is_in_government = no	
				is_marginal = no
				is_insurrectionary = no	
			}
			save_scope_as = defecting_ig
		}
	}
	
	option = {
		name = revolution_pulse_events.40.a 
		default_option = yes
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_advance_small
		}
		random_list = {
			50 = {
				scope:defecting_ig = {
					add_modifier = {
						name = modifier_new_bedfellows 
						months = short_modifier_time
					}
				}
				scope:revolting_ig = {
					add_modifier = {
						name = modifier_new_bedfellows
						months = short_modifier_time
					}
				}
			}
			50 = {
				scope:defecting_ig.leader = {
					add_modifier = {
						name = modifier_backfired_defection
						months = short_modifier_time
					}
				}
			}
		}
	}

	option = {
		name = revolution_pulse_events.40.b
		scope:ongoing_revolution = {
			add_civil_war_progress = revolution_retreat_small
		}
		ruler = {
			add_modifier = {
				name = modifier_embarrassed_by_judgement_failure 
				months = short_modifier_time
			}
		}
	}
}